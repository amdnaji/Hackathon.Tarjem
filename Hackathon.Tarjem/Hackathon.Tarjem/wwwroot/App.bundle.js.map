{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@material/base/component.js","webpack:///./node_modules/@material/base/foundation.js","webpack:///./node_modules/@material/ripple/adapter.js","webpack:///./node_modules/@material/ripple/constants.js","webpack:///./node_modules/@material/ripple/foundation.js","webpack:///./node_modules/@material/ripple/index.js","webpack:///./node_modules/@material/ripple/util.js","webpack:///./node_modules/@material/top-app-bar/adapter.js","webpack:///./node_modules/@material/top-app-bar/constants.js","webpack:///./node_modules/@material/top-app-bar/fixed/foundation.js","webpack:///./node_modules/@material/top-app-bar/foundation.js","webpack:///./node_modules/@material/top-app-bar/index.js","webpack:///./node_modules/@material/top-app-bar/short/foundation.js","webpack:///./node_modules/@material/top-app-bar/standard/foundation.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/Speech.Browser.Sdk.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/ConsoleLoggingListener.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/Exports.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/FileAudioSource.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/LocalStorage.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/MicAudioSource.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/OpusRecorder.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/PCMRecorder.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/SessionStorage.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/Timer.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/WebsocketConnection.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common.browser/WebsocketMessageAdapter.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/AudioSourceEvents.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/ConnectionEvents.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/ConnectionMessage.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/ConnectionOpenResponse.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/Error.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/EventSource.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/Events.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/Exports.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/Guid.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/IConnection.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/InMemoryStorage.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/List.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/PlatformEvent.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/Promise.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/Queue.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/RawWebsocketMessage.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/RiffPcmEncoder.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/Storage.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/common/Stream.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech.browser/Exports.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech.browser/Recognizer.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech.browser/SpeechConnectionFactory.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/CognitiveSubscriptionKeyAuthentication.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/CognitiveTokenAuthentication.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/Exports.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/IAuthentication.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/RecognitionEvents.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/Recognizer.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/RecognizerConfig.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/ServiceTelemetryListener.Internal.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/SpeechConnectionMessage.Internal.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/SpeechResults.js","webpack:///./node_modules/microsoft-speech-browser-sdk/distrib/src/sdk/speech/WebsocketMessageFormatter.js","webpack:///./src/js/app.js","webpack:///./src/js/translater.js","webpack:///./src/sass/app.scss"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;AClFA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,cAAc;AACd;AACA;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;;AAEA;AACA,aAAa,SAAS;AACtB,aAAa,GAAG;AAChB,aAAa,KAAK;AAClB;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA,oBAAoB,GAAG;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,GAAG;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;AC5HA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA;AACA,iEAAiE;AACjE;AACA;;AAEA,mBAAmB,QAAQ;AAC3B;AACA;AACA,4CAA4C;AAC5C;AACA;;AAEA,mBAAmB,QAAQ;AAC3B;AACA;AACA,mDAAmD;AACnD;AACA;;AAEA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,GAAG;AAChB;AACA,0BAA0B;AAC1B,oBAAoB,GAAG;AACvB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACnEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,eAAe;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;;AAEA,eAAe,QAAQ;AACvB;;AAEA,eAAe,QAAQ;AACvB;;AAEA,eAAe,QAAQ;AACvB;;AAEA,cAAc,OAAO;AACrB;;AAEA,cAAc,OAAO;AACrB;;AAEA,cAAc,aAAa;AAC3B;;AAEA;AACA,aAAa,OAAO;AACpB,aAAa,UAAU;AACvB;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,aAAa,UAAU;AACvB;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,aAAa,UAAU;AACvB;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,aAAa,UAAU;AACvB;AACA;;AAEA;AACA,aAAa,UAAU;AACvB;AACA;;AAEA;AACA,aAAa,UAAU;AACvB;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,aAAa,eAAe;AAC5B;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA,gBAAgB,sBAAsB;AACtC;AACA;;AAEA;;;;;;;;;;;;;;;;AC7GA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEQ;;;;;;;;;;;;;;;;;AC7CR;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACqC;AACJ;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,qBAAqB;AAChC;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,6DAA6D;AAC7D,yCAAyC;AACzC,6CAA6C;AAC7C,+CAA+C;AAC/C,+CAA+C;AAC/C,kDAAkD;AAClD,6DAA6D;AAC7D,uFAAuF;AACvF,yFAAyF;AACzF,+FAA+F;AAC/F,iGAAiG;AACjG,iEAAiE;AACjE,mEAAmE;AACnE,qEAAqE;AACrE,oDAAoD;AACpD,qCAAqC,qBAAqB,MAAM;AAChE;AACA;;AAEA;AACA;;AAEA,kBAAkB,OAAO;AACzB;;AAEA,kBAAkB,YAAY;AAC9B,6BAA6B,YAAY,MAAM,oBAAoB;;AAEnE,kBAAkB,qBAAqB;AACvC;;AAEA,kBAAkB,OAAO;AACzB;;AAEA,kBAAkB,OAAO;AACzB;;AAEA,kBAAkB,iBAAiB;AACnC;;AAEA,kBAAkB,iBAAiB;AACnC;;AAEA,kBAAkB,kBAAkB;AACpC;;AAEA,kBAAkB,kBAAkB;AACpC;;AAEA,kBAAkB,UAAU;AAC5B;;AAEA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;;AAEA,kBAAkB,OAAO;AACzB;;AAEA,kBAAkB,OAAO;AACzB;;AAEA,kBAAkB,OAAO;AACzB;;AAEA,kBAAkB,QAAQ;AAC1B;;AAEA,kBAAkB,UAAU;AAC5B;AACA;AACA;AACA;;AAEA,kBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;;AAEA;AACA;;AAEA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,aAAa;AACpD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,6CAA6C;AACxD,WAAW,+BAA+B;AAC1C,WAAW,wBAAwB;;AAEnC;;AAEA;AACA;;AAEA;AACA,aAAa,qBAAqB;AAClC,0BAA0B,aAAa,MAAM,aAAa;AAC1D,wBAAwB,WAAW,MAAM,WAAW;AACpD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW,uCAAuC;;AAElD;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,kCAAkC;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,qBAAqB,qBAAqB;;AAEvE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA,aAAa,MAAM;AACnB,aAAa,qBAAqB;AAClC;AACA;AACA,2BAA2B,4CAA4C;AACvE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL,oDAAoD,kBAAkB;AACtE;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mDAAmD,2BAA2B;AAC9E,kDAAkD,0BAA0B;AAC5E;AACA;;AAEA,cAAc,QAAQ;AACtB;AACA,WAAW,UAAU;AACrB;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;ACvlBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,KAAK;AACnB;AACA;;AAEA,eAAe,QAAQ;AACvB;;AAEA,kBAAkB,QAAQ;AAC1B;AACA;;AAEA;AACA,aAAa,SAAS;AACtB,cAAc,iCAAiC,EAAE;AACjD,cAAc;AACd;AACA,yBAAyB,wBAAwB,KAAK;AACtD;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;;AAEA;AACA,aAAa,sBAAsB;AACnC,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,6CAA6C;AAChF;AACA;;AAEA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,SAAS;AACzB;;AAEA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;;AAEQ;;;;;;;;;;;;;;;;;ACxJR;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA,QAAQ;AACR,KAAK,YAAY;;AAEjB;AACA;;AAEA,6BAA6B,cAAc;AAC3C;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,YAAY,sBAAsB;AAClC,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA,SAAS,KAAK;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,UAAU;AACV;;AAEQ;;;;;;;;;;;;;ACjJR;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,eAAe;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,4BAA4B;AACzC;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,4BAA4B;AACzC;AACA;;AAEA;AACA;AACA;AACA;;AAEA,cAAc,iBAAiB;AAC/B;;AAEA,cAAc,iBAAiB;AAC/B;;AAEA,cAAc,iBAAiB;AAC/B;;AAEA,cAAc,iBAAiB;AAC/B;;AAEA,eAAe,OAAO;AACtB;;AAEA,eAAe,OAAO;AACtB;AACA;;AAEA;;;;;;;;;;;;;;;;ACpGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEQ;;;;;;;;;;;;;;;;ACzCR;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEmB;AACnB;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa,qBAAqB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;ACpEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEqC;AACrC;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;;AAEA,oBAAoB,OAAO;AAC3B;AACA;AACA;;AAEA,oBAAoB,OAAO;AAC3B;AACA;AACA;;AAEA;AACA,MAAM,yBAAyB;AAC/B;AACA,cAAc;AACd;AACA;AACA,sBAAsB,qBAAqB;AAC3C,+CAA+C;AAC/C,+CAA+C;AAC/C,kDAAkD;AAClD,6DAA6D;AAC7D,kCAAkC;AAClC,kGAAkG;AAClG,oGAAoG;AACpG,2CAA2C;AAC3C,iEAAiE;AACjE,mEAAmE;AACnE,iEAAiE;AACjE,mEAAmE;AACnE;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,qBAAqB;AAClC;AACA,yBAAyB,qBAAqB;AAC9C;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACkB;AACU;AAC5B;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA,eAAe,kBAAkB;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,SAAS;AACtB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA,eAAe,qBAAqB;AACpC,+BAA+B,qBAAqB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,yFAA8C;AAC9C,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAIA;;;;;;;;;;;;;;;;AC1HA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACmB;;AAEnB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa,qBAAqB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;AC/EA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACgB;;AAEhB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa,qBAAqB;AAClC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACrNA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACfA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA,wCAAwC,8CAA8C;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC9DA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;AChBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,4CAA4C;AAC5C;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACjJA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACtCA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA,wFAAwF;AACxF,kCAAkC,4BAA4B;AAC9D;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC/KA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,qBAAqB,EAAE;AACrG;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;AC5CA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFAAsF,qBAAqB,EAAE;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AClEA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACtCA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACzBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AChFA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kIAAkI,YAAY,aAAa,mCAAmC;AAC9L,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC/LA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,mCAAmC,4CAA4C;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC5IA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,mCAAmC,4CAA4C;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC3KA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gEAAgE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC3EA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC3FA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC9DA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACxBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACjBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4EAA4E;;AAE7E;;;;;;;;;;;;;ACVA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACzCA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,uBAAuB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,uBAAuB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,wBAAwB,EAAE;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,oBAAoB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC3MA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0DAA0D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACzDA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,mEAAmE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,wBAAwB;AACvE;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,gBAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC/XA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wCAAwC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,mCAAmC,6DAA6D;AAChG;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0DAA0D;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,gBAAgB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACrIA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AClEA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC3FA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACvCA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC9HA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;;AAEA;;;;;;;;;;;;;ACRA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACtBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC5EA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACvBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG,0DAA0D,EAAE;AAC7J;AACA;AACA,yGAAyG,0DAA0D,EAAE;AACrK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACfA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,mCAAmC,sCAAsC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gHAAgH;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AC/SA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA,4CAA4C,wBAAwB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,gBAAgB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;AC7XA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC,4EAA4E;AAC7E;AACA;AACA;AACA;AACA,CAAC,qFAAqF;AACtF;AACA;AACA,yCAAyC,+CAA+C;AACxF,kCAAkC,oBAAoB;AACtD,gCAAgC,oCAAoC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;ACnNA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AClKA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;AClHA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kFAAkF;;AAEnF;;;;;;;;;;;;;ACZA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gCAAgC;AACnE;AACA;AACA;AACA;AACA,uCAAuC,8BAA8B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,6BAA6B;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;;;;;;;;;;;;;;;AChIA;;AAEA,UAAU,WAAW;AACH;AACG;AACrB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;ACdA;AACA,UAAU,kDAAkD;;AAE5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,WAAW;AACX,OAAO;AACP;;AAEA;AACA;;AAEA,OAAO;AACP;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD;AACpD;AACA;AACA;;AAEA,oDAAoD;AACpD;AACA;;AAEA,oDAAoD;AACpD;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;;AAGP,4BAA4B,eAAe;AAC3C,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+CAA+C,KAAK,aAAa,KAAK,eAAe,GAAG;AACxF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;AAMA,2E;;;;;;;;;;;ACjLA,yC","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/app.js\");\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nclass MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n\nexport default MDCComponent;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Ripple. Provides an interface for managing\n * - classes\n * - dom\n * - CSS variables\n * - position\n * - dimensions\n * - scroll position\n * - event handlers\n * - unbounded, active and disabled states\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCRippleAdapter {\n  /** @return {boolean} */\n  browserSupportsCssVars() {}\n\n  /** @return {boolean} */\n  isUnbounded() {}\n\n  /** @return {boolean} */\n  isSurfaceActive() {}\n\n  /** @return {boolean} */\n  isSurfaceDisabled() {}\n\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /** @param {!EventTarget} target */\n  containsEventTarget(target) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  registerResizeHandler(handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  deregisterResizeHandler(handler) {}\n\n  /**\n   * @param {string} varName\n   * @param {?number|string} value\n   */\n  updateCssVariable(varName, value) {}\n\n  /** @return {!ClientRect} */\n  computeBoundingRect() {}\n\n  /** @return {{x: number, y: number}} */\n  getWindowPageOffset() {}\n}\n\nexport default MDCRippleAdapter;\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst cssClasses = {\n  // Ripple is a special case where the \"root\" component is really a \"mixin\" of sorts,\n  // given that it's an 'upgrade' to an existing component. That being said it is the root\n  // CSS class that all other CSS classes derive from.\n  ROOT: 'mdc-ripple-upgraded',\n  UNBOUNDED: 'mdc-ripple-upgraded--unbounded',\n  BG_FOCUSED: 'mdc-ripple-upgraded--background-focused',\n  FG_ACTIVATION: 'mdc-ripple-upgraded--foreground-activation',\n  FG_DEACTIVATION: 'mdc-ripple-upgraded--foreground-deactivation',\n};\n\nconst strings = {\n  VAR_LEFT: '--mdc-ripple-left',\n  VAR_TOP: '--mdc-ripple-top',\n  VAR_FG_SIZE: '--mdc-ripple-fg-size',\n  VAR_FG_SCALE: '--mdc-ripple-fg-scale',\n  VAR_FG_TRANSLATE_START: '--mdc-ripple-fg-translate-start',\n  VAR_FG_TRANSLATE_END: '--mdc-ripple-fg-translate-end',\n};\n\nconst numbers = {\n  PADDING: 10,\n  INITIAL_ORIGIN_SCALE: 0.6,\n  DEACTIVATION_TIMEOUT_MS: 225, // Corresponds to $mdc-ripple-translate-duration (i.e. activation animation duration)\n  FG_DEACTIVATION_MS: 150, // Corresponds to $mdc-ripple-fade-out-duration (i.e. deactivation animation duration)\n  TAP_DELAY_MS: 300, // Delay between touch and simulated mouse events on touch devices\n};\n\nexport {cssClasses, strings, numbers};\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCRippleAdapter from './adapter';\nimport {cssClasses, strings, numbers} from './constants';\nimport {getNormalizedEventCoords} from './util';\n\n/**\n * @typedef {{\n *   isActivated: (boolean|undefined),\n *   hasDeactivationUXRun: (boolean|undefined),\n *   wasActivatedByPointer: (boolean|undefined),\n *   wasElementMadeActive: (boolean|undefined),\n *   activationEvent: Event,\n *   isProgrammatic: (boolean|undefined)\n * }}\n */\nlet ActivationStateType;\n\n/**\n * @typedef {{\n *   activate: (string|undefined),\n *   deactivate: (string|undefined),\n *   focus: (string|undefined),\n *   blur: (string|undefined)\n * }}\n */\nlet ListenerInfoType;\n\n/**\n * @typedef {{\n *   activate: function(!Event),\n *   deactivate: function(!Event),\n *   focus: function(),\n *   blur: function()\n * }}\n */\nlet ListenersType;\n\n/**\n * @typedef {{\n *   x: number,\n *   y: number\n * }}\n */\nlet PointType;\n\n// Activation events registered on the root element of each instance for activation\nconst ACTIVATION_EVENT_TYPES = ['touchstart', 'pointerdown', 'mousedown', 'keydown'];\n\n// Deactivation events registered on documentElement when a pointer-related down event occurs\nconst POINTER_DEACTIVATION_EVENT_TYPES = ['touchend', 'pointerup', 'mouseup'];\n\n// Tracks activations that have occurred on the current frame, to avoid simultaneous nested activations\n/** @type {!Array<!EventTarget>} */\nlet activatedTargets = [];\n\n/**\n * @extends {MDCFoundation<!MDCRippleAdapter>}\n */\nclass MDCRippleFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  static get defaultAdapter() {\n    return {\n      browserSupportsCssVars: () => /* boolean - cached */ {},\n      isUnbounded: () => /* boolean */ {},\n      isSurfaceActive: () => /* boolean */ {},\n      isSurfaceDisabled: () => /* boolean */ {},\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      containsEventTarget: (/* target: !EventTarget */) => {},\n      registerInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerResizeHandler: (/* handler: EventListener */) => {},\n      deregisterResizeHandler: (/* handler: EventListener */) => {},\n      updateCssVariable: (/* varName: string, value: string */) => {},\n      computeBoundingRect: () => /* ClientRect */ {},\n      getWindowPageOffset: () => /* {x: number, y: number} */ {},\n    };\n  }\n\n  constructor(adapter) {\n    super(Object.assign(MDCRippleFoundation.defaultAdapter, adapter));\n\n    /** @private {number} */\n    this.layoutFrame_ = 0;\n\n    /** @private {!ClientRect} */\n    this.frame_ = /** @type {!ClientRect} */ ({width: 0, height: 0});\n\n    /** @private {!ActivationStateType} */\n    this.activationState_ = this.defaultActivationState_();\n\n    /** @private {number} */\n    this.initialSize_ = 0;\n\n    /** @private {number} */\n    this.maxRadius_ = 0;\n\n    /** @private {function(!Event)} */\n    this.activateHandler_ = (e) => this.activate_(e);\n\n    /** @private {function(!Event)} */\n    this.deactivateHandler_ = (e) => this.deactivate_(e);\n\n    /** @private {function(?Event=)} */\n    this.focusHandler_ = () => this.handleFocus();\n\n    /** @private {function(?Event=)} */\n    this.blurHandler_ = () => this.handleBlur();\n\n    /** @private {!Function} */\n    this.resizeHandler_ = () => this.layout();\n\n    /** @private {{left: number, top:number}} */\n    this.unboundedCoords_ = {\n      left: 0,\n      top: 0,\n    };\n\n    /** @private {number} */\n    this.fgScale_ = 0;\n\n    /** @private {number} */\n    this.activationTimer_ = 0;\n\n    /** @private {number} */\n    this.fgDeactivationRemovalTimer_ = 0;\n\n    /** @private {boolean} */\n    this.activationAnimationHasEnded_ = false;\n\n    /** @private {!Function} */\n    this.activationTimerCallback_ = () => {\n      this.activationAnimationHasEnded_ = true;\n      this.runDeactivationUXLogicIfReady_();\n    };\n\n    /** @private {?Event} */\n    this.previousActivationEvent_ = null;\n  }\n\n  /**\n   * We compute this property so that we are not querying information about the client\n   * until the point in time where the foundation requests it. This prevents scenarios where\n   * client-side feature-detection may happen too early, such as when components are rendered on the server\n   * and then initialized at mount time on the client.\n   * @return {boolean}\n   * @private\n   */\n  isSupported_() {\n    return this.adapter_.browserSupportsCssVars();\n  }\n\n  /**\n   * @return {!ActivationStateType}\n   */\n  defaultActivationState_() {\n    return {\n      isActivated: false,\n      hasDeactivationUXRun: false,\n      wasActivatedByPointer: false,\n      wasElementMadeActive: false,\n      activationEvent: null,\n      isProgrammatic: false,\n    };\n  }\n\n  /** @override */\n  init() {\n    if (!this.isSupported_()) {\n      return;\n    }\n    this.registerRootHandlers_();\n\n    const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    requestAnimationFrame(() => {\n      this.adapter_.addClass(ROOT);\n      if (this.adapter_.isUnbounded()) {\n        this.adapter_.addClass(UNBOUNDED);\n        // Unbounded ripples need layout logic applied immediately to set coordinates for both shade and ripple\n        this.layoutInternal_();\n      }\n    });\n  }\n\n  /** @override */\n  destroy() {\n    if (!this.isSupported_()) {\n      return;\n    }\n\n    if (this.activationTimer_) {\n      clearTimeout(this.activationTimer_);\n      this.activationTimer_ = 0;\n      const {FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n      this.adapter_.removeClass(FG_ACTIVATION);\n    }\n\n    this.deregisterRootHandlers_();\n    this.deregisterDeactivationHandlers_();\n\n    const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    requestAnimationFrame(() => {\n      this.adapter_.removeClass(ROOT);\n      this.adapter_.removeClass(UNBOUNDED);\n      this.removeCssVars_();\n    });\n  }\n\n  /** @private */\n  registerRootHandlers_() {\n    ACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.registerInteractionHandler(type, this.activateHandler_);\n    });\n    this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.adapter_.registerResizeHandler(this.resizeHandler_);\n    }\n  }\n\n  /**\n   * @param {!Event} e\n   * @private\n   */\n  registerDeactivationHandlers_(e) {\n    if (e.type === 'keydown') {\n      this.adapter_.registerInteractionHandler('keyup', this.deactivateHandler_);\n    } else {\n      POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerDocumentInteractionHandler(type, this.deactivateHandler_);\n      });\n    }\n  }\n\n  /** @private */\n  deregisterRootHandlers_() {\n    ACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterInteractionHandler(type, this.activateHandler_);\n    });\n    this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    }\n  }\n\n  /** @private */\n  deregisterDeactivationHandlers_() {\n    this.adapter_.deregisterInteractionHandler('keyup', this.deactivateHandler_);\n    POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterDocumentInteractionHandler(type, this.deactivateHandler_);\n    });\n  }\n\n  /** @private */\n  removeCssVars_() {\n    const {strings} = MDCRippleFoundation;\n    Object.keys(strings).forEach((k) => {\n      if (k.indexOf('VAR_') === 0) {\n        this.adapter_.updateCssVariable(strings[k], null);\n      }\n    });\n  }\n\n  /**\n   * @param {?Event} e\n   * @private\n   */\n  activate_(e) {\n    if (this.adapter_.isSurfaceDisabled()) {\n      return;\n    }\n\n    const activationState = this.activationState_;\n    if (activationState.isActivated) {\n      return;\n    }\n\n    // Avoid reacting to follow-on events fired by touch device after an already-processed user interaction\n    const previousActivationEvent = this.previousActivationEvent_;\n    const isSameInteraction = previousActivationEvent && e && previousActivationEvent.type !== e.type;\n    if (isSameInteraction) {\n      return;\n    }\n\n    activationState.isActivated = true;\n    activationState.isProgrammatic = e === null;\n    activationState.activationEvent = e;\n    activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : (\n      e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'pointerdown'\n    );\n\n    const hasActivatedChild =\n      e && activatedTargets.length > 0 && activatedTargets.some((target) => this.adapter_.containsEventTarget(target));\n    if (hasActivatedChild) {\n      // Immediately reset activation state, while preserving logic that prevents touch follow-on events\n      this.resetActivationState_();\n      return;\n    }\n\n    if (e) {\n      activatedTargets.push(/** @type {!EventTarget} */ (e.target));\n      this.registerDeactivationHandlers_(e);\n    }\n\n    activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n    if (activationState.wasElementMadeActive) {\n      this.animateActivation_();\n    }\n\n    requestAnimationFrame(() => {\n      // Reset array on next frame after the current event has had a chance to bubble to prevent ancestor ripples\n      activatedTargets = [];\n\n      if (!activationState.wasElementMadeActive && (e.key === ' ' || e.keyCode === 32)) {\n        // If space was pressed, try again within an rAF call to detect :active, because different UAs report\n        // active states inconsistently when they're called within event handling code:\n        // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971\n        // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741\n        // We try first outside rAF to support Edge, which does not exhibit this problem, but will crash if a CSS\n        // variable is set within a rAF callback for a submit button interaction (#2241).\n        activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n        if (activationState.wasElementMadeActive) {\n          this.animateActivation_();\n        }\n      }\n\n      if (!activationState.wasElementMadeActive) {\n        // Reset activation state immediately if element was not made active.\n        this.activationState_ = this.defaultActivationState_();\n      }\n    });\n  }\n\n  /**\n   * @param {?Event} e\n   * @private\n   */\n  checkElementMadeActive_(e) {\n    return (e && e.type === 'keydown') ? this.adapter_.isSurfaceActive() : true;\n  }\n\n  /**\n   * @param {?Event=} event Optional event containing position information.\n   */\n  activate(event = null) {\n    this.activate_(event);\n  }\n\n  /** @private */\n  animateActivation_() {\n    const {VAR_FG_TRANSLATE_START, VAR_FG_TRANSLATE_END} = MDCRippleFoundation.strings;\n    const {FG_DEACTIVATION, FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {DEACTIVATION_TIMEOUT_MS} = MDCRippleFoundation.numbers;\n\n    this.layoutInternal_();\n\n    let translateStart = '';\n    let translateEnd = '';\n\n    if (!this.adapter_.isUnbounded()) {\n      const {startPoint, endPoint} = this.getFgTranslationCoordinates_();\n      translateStart = `${startPoint.x}px, ${startPoint.y}px`;\n      translateEnd = `${endPoint.x}px, ${endPoint.y}px`;\n    }\n\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);\n    // Cancel any ongoing activation/deactivation animations\n    clearTimeout(this.activationTimer_);\n    clearTimeout(this.fgDeactivationRemovalTimer_);\n    this.rmBoundedActivationClasses_();\n    this.adapter_.removeClass(FG_DEACTIVATION);\n\n    // Force layout in order to re-trigger the animation.\n    this.adapter_.computeBoundingRect();\n    this.adapter_.addClass(FG_ACTIVATION);\n    this.activationTimer_ = setTimeout(() => this.activationTimerCallback_(), DEACTIVATION_TIMEOUT_MS);\n  }\n\n  /**\n   * @private\n   * @return {{startPoint: PointType, endPoint: PointType}}\n   */\n  getFgTranslationCoordinates_() {\n    const {activationEvent, wasActivatedByPointer} = this.activationState_;\n\n    let startPoint;\n    if (wasActivatedByPointer) {\n      startPoint = getNormalizedEventCoords(\n        /** @type {!Event} */ (activationEvent),\n        this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect()\n      );\n    } else {\n      startPoint = {\n        x: this.frame_.width / 2,\n        y: this.frame_.height / 2,\n      };\n    }\n    // Center the element around the start point.\n    startPoint = {\n      x: startPoint.x - (this.initialSize_ / 2),\n      y: startPoint.y - (this.initialSize_ / 2),\n    };\n\n    const endPoint = {\n      x: (this.frame_.width / 2) - (this.initialSize_ / 2),\n      y: (this.frame_.height / 2) - (this.initialSize_ / 2),\n    };\n\n    return {startPoint, endPoint};\n  }\n\n  /** @private */\n  runDeactivationUXLogicIfReady_() {\n    // This method is called both when a pointing device is released, and when the activation animation ends.\n    // The deactivation animation should only run after both of those occur.\n    const {FG_DEACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {hasDeactivationUXRun, isActivated} = this.activationState_;\n    const activationHasEnded = hasDeactivationUXRun || !isActivated;\n\n    if (activationHasEnded && this.activationAnimationHasEnded_) {\n      this.rmBoundedActivationClasses_();\n      this.adapter_.addClass(FG_DEACTIVATION);\n      this.fgDeactivationRemovalTimer_ = setTimeout(() => {\n        this.adapter_.removeClass(FG_DEACTIVATION);\n      }, numbers.FG_DEACTIVATION_MS);\n    }\n  }\n\n  /** @private */\n  rmBoundedActivationClasses_() {\n    const {FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    this.adapter_.removeClass(FG_ACTIVATION);\n    this.activationAnimationHasEnded_ = false;\n    this.adapter_.computeBoundingRect();\n  }\n\n  resetActivationState_() {\n    this.previousActivationEvent_ = this.activationState_.activationEvent;\n    this.activationState_ = this.defaultActivationState_();\n    // Touch devices may fire additional events for the same interaction within a short time.\n    // Store the previous event until it's safe to assume that subsequent events are for new interactions.\n    setTimeout(() => this.previousActivationEvent_ = null, MDCRippleFoundation.numbers.TAP_DELAY_MS);\n  }\n\n  /**\n   * @param {?Event} e\n   * @private\n   */\n  deactivate_(e) {\n    const activationState = this.activationState_;\n    // This can happen in scenarios such as when you have a keyup event that blurs the element.\n    if (!activationState.isActivated) {\n      return;\n    }\n\n    const state = /** @type {!ActivationStateType} */ (Object.assign({}, activationState));\n\n    if (activationState.isProgrammatic) {\n      const evtObject = null;\n      requestAnimationFrame(() => this.animateDeactivation_(evtObject, state));\n      this.resetActivationState_();\n    } else {\n      this.deregisterDeactivationHandlers_();\n      requestAnimationFrame(() => {\n        this.activationState_.hasDeactivationUXRun = true;\n        this.animateDeactivation_(e, state);\n        this.resetActivationState_();\n      });\n    }\n  }\n\n  /**\n   * @param {?Event=} event Optional event containing position information.\n   */\n  deactivate(event = null) {\n    this.deactivate_(event);\n  }\n\n  /**\n   * @param {Event} e\n   * @param {!ActivationStateType} options\n   * @private\n   */\n  animateDeactivation_(e, {wasActivatedByPointer, wasElementMadeActive}) {\n    if (wasActivatedByPointer || wasElementMadeActive) {\n      this.runDeactivationUXLogicIfReady_();\n    }\n  }\n\n  layout() {\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n    }\n    this.layoutFrame_ = requestAnimationFrame(() => {\n      this.layoutInternal_();\n      this.layoutFrame_ = 0;\n    });\n  }\n\n  /** @private */\n  layoutInternal_() {\n    this.frame_ = this.adapter_.computeBoundingRect();\n    const maxDim = Math.max(this.frame_.height, this.frame_.width);\n\n    // Surface diameter is treated differently for unbounded vs. bounded ripples.\n    // Unbounded ripple diameter is calculated smaller since the surface is expected to already be padded appropriately\n    // to extend the hitbox, and the ripple is expected to meet the edges of the padded hitbox (which is typically\n    // square). Bounded ripples, on the other hand, are fully expected to expand beyond the surface's longest diameter\n    // (calculated based on the diagonal plus a constant padding), and are clipped at the surface's border via\n    // `overflow: hidden`.\n    const getBoundedRadius = () => {\n      const hypotenuse = Math.sqrt(Math.pow(this.frame_.width, 2) + Math.pow(this.frame_.height, 2));\n      return hypotenuse + MDCRippleFoundation.numbers.PADDING;\n    };\n\n    this.maxRadius_ = this.adapter_.isUnbounded() ? maxDim : getBoundedRadius();\n\n    // Ripple is sized as a fraction of the largest dimension of the surface, then scales up using a CSS scale transform\n    this.initialSize_ = maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE;\n    this.fgScale_ = this.maxRadius_ / this.initialSize_;\n\n    this.updateLayoutCssVars_();\n  }\n\n  /** @private */\n  updateLayoutCssVars_() {\n    const {\n      VAR_FG_SIZE, VAR_LEFT, VAR_TOP, VAR_FG_SCALE,\n    } = MDCRippleFoundation.strings;\n\n    this.adapter_.updateCssVariable(VAR_FG_SIZE, `${this.initialSize_}px`);\n    this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.unboundedCoords_ = {\n        left: Math.round((this.frame_.width / 2) - (this.initialSize_ / 2)),\n        top: Math.round((this.frame_.height / 2) - (this.initialSize_ / 2)),\n      };\n\n      this.adapter_.updateCssVariable(VAR_LEFT, `${this.unboundedCoords_.left}px`);\n      this.adapter_.updateCssVariable(VAR_TOP, `${this.unboundedCoords_.top}px`);\n    }\n  }\n\n  /** @param {boolean} unbounded */\n  setUnbounded(unbounded) {\n    const {UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    if (unbounded) {\n      this.adapter_.addClass(UNBOUNDED);\n    } else {\n      this.adapter_.removeClass(UNBOUNDED);\n    }\n  }\n\n  handleFocus() {\n    requestAnimationFrame(() =>\n      this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n\n  handleBlur() {\n    requestAnimationFrame(() =>\n      this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n}\n\nexport default MDCRippleFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCComponent from '@material/base/component';\nimport MDCRippleAdapter from './adapter';\nimport MDCRippleFoundation from './foundation';\nimport * as util from './util';\n\n/**\n * @extends MDCComponent<!MDCRippleFoundation>\n */\nclass MDCRipple extends MDCComponent {\n  /** @param {...?} args */\n  constructor(...args) {\n    super(...args);\n\n    /** @type {boolean} */\n    this.disabled = false;\n\n    /** @private {boolean} */\n    this.unbounded_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {{isUnbounded: (boolean|undefined)}=} options\n   * @return {!MDCRipple}\n   */\n  static attachTo(root, {isUnbounded = undefined} = {}) {\n    const ripple = new MDCRipple(root);\n    // Only override unbounded behavior if option is explicitly specified\n    if (isUnbounded !== undefined) {\n      ripple.unbounded = /** @type {boolean} */ (isUnbounded);\n    }\n    return ripple;\n  }\n\n  /**\n   * @param {!RippleCapableSurface} instance\n   * @return {!MDCRippleAdapter}\n   */\n  static createAdapter(instance) {\n    const MATCHES = util.getMatchesProperty(HTMLElement.prototype);\n\n    return {\n      browserSupportsCssVars: () => util.supportsCssVariables(window),\n      isUnbounded: () => instance.unbounded,\n      isSurfaceActive: () => instance.root_[MATCHES](':active'),\n      isSurfaceDisabled: () => instance.disabled,\n      addClass: (className) => instance.root_.classList.add(className),\n      removeClass: (className) => instance.root_.classList.remove(className),\n      containsEventTarget: (target) => instance.root_.contains(target),\n      registerInteractionHandler: (evtType, handler) =>\n        instance.root_.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterInteractionHandler: (evtType, handler) =>\n        instance.root_.removeEventListener(evtType, handler, util.applyPassive()),\n      registerDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.removeEventListener(evtType, handler, util.applyPassive()),\n      registerResizeHandler: (handler) => window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),\n      updateCssVariable: (varName, value) => instance.root_.style.setProperty(varName, value),\n      computeBoundingRect: () => instance.root_.getBoundingClientRect(),\n      getWindowPageOffset: () => ({x: window.pageXOffset, y: window.pageYOffset}),\n    };\n  }\n\n  /** @return {boolean} */\n  get unbounded() {\n    return this.unbounded_;\n  }\n\n  /** @param {boolean} unbounded */\n  set unbounded(unbounded) {\n    this.unbounded_ = Boolean(unbounded);\n    this.setUnbounded_();\n  }\n\n  /**\n   * Closure Compiler throws an access control error when directly accessing a\n   * protected or private property inside a getter/setter, like unbounded above.\n   * By accessing the protected property inside a method, we solve that problem.\n   * That's why this function exists.\n   * @private\n   */\n  setUnbounded_() {\n    this.foundation_.setUnbounded(this.unbounded_);\n  }\n\n  activate() {\n    this.foundation_.activate();\n  }\n\n  deactivate() {\n    this.foundation_.deactivate();\n  }\n\n  layout() {\n    this.foundation_.layout();\n  }\n\n  /**\n   * @return {!MDCRippleFoundation}\n   * @override\n   */\n  getDefaultFoundation() {\n    return new MDCRippleFoundation(MDCRipple.createAdapter(this));\n  }\n\n  /** @override */\n  initialSyncWithDOM() {\n    this.unbounded = 'mdcRippleIsUnbounded' in this.root_.dataset;\n  }\n}\n\n/**\n * See Material Design spec for more details on when to use ripples.\n * https://material.io/guidelines/motion/choreography.html#choreography-creation\n * @record\n */\nclass RippleCapableSurface {}\n\n/** @protected {!Element} */\nRippleCapableSurface.prototype.root_;\n\n/**\n * Whether or not the ripple bleeds out of the bounds of the element.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.unbounded;\n\n/**\n * Whether or not the ripple is attached to a disabled component.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.disabled;\n\nexport {MDCRipple, MDCRippleFoundation, RippleCapableSurface, util};\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Stores result from supportsCssVariables to avoid redundant processing to detect CSS custom variable support.\n * @private {boolean|undefined}\n */\nlet supportsCssVariables_;\n\n/**\n * Stores result from applyPassive to avoid redundant processing to detect passive event listener support.\n * @private {boolean|undefined}\n */\nlet supportsPassive_;\n\n/**\n * @param {!Window} windowObj\n * @return {boolean}\n */\nfunction detectEdgePseudoVarBug(windowObj) {\n  // Detect versions of Edge with buggy var() support\n  // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n  const document = windowObj.document;\n  const node = document.createElement('div');\n  node.className = 'mdc-ripple-surface--test-edge-var-bug';\n  document.body.appendChild(node);\n\n  // The bug exists if ::before style ends up propagating to the parent element.\n  // Additionally, getComputedStyle returns null in iframes with display: \"none\" in Firefox,\n  // but Firefox is known to support CSS custom properties correctly.\n  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  const computedStyle = windowObj.getComputedStyle(node);\n  const hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';\n  node.remove();\n  return hasPseudoVarBug;\n}\n\n/**\n * @param {!Window} windowObj\n * @param {boolean=} forceRefresh\n * @return {boolean|undefined}\n */\n\nfunction supportsCssVariables(windowObj, forceRefresh = false) {\n  let supportsCssVariables = supportsCssVariables_;\n  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n    return supportsCssVariables;\n  }\n\n  const supportsFunctionPresent = windowObj.CSS && typeof windowObj.CSS.supports === 'function';\n  if (!supportsFunctionPresent) {\n    return;\n  }\n\n  const explicitlySupportsCssVars = windowObj.CSS.supports('--css-vars', 'yes');\n  // See: https://bugs.webkit.org/show_bug.cgi?id=154669\n  // See: README section on Safari\n  const weAreFeatureDetectingSafari10plus = (\n    windowObj.CSS.supports('(--css-vars: yes)') &&\n    windowObj.CSS.supports('color', '#00000000')\n  );\n\n  if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {\n    supportsCssVariables = !detectEdgePseudoVarBug(windowObj);\n  } else {\n    supportsCssVariables = false;\n  }\n\n  if (!forceRefresh) {\n    supportsCssVariables_ = supportsCssVariables;\n  }\n  return supportsCssVariables;\n}\n\n//\n/**\n * Determine whether the current browser supports passive event listeners, and if so, use them.\n * @param {!Window=} globalObj\n * @param {boolean=} forceRefresh\n * @return {boolean|{passive: boolean}}\n */\nfunction applyPassive(globalObj = window, forceRefresh = false) {\n  if (supportsPassive_ === undefined || forceRefresh) {\n    let isSupported = false;\n    try {\n      globalObj.document.addEventListener('test', null, {get passive() {\n        isSupported = true;\n      }});\n    } catch (e) { }\n\n    supportsPassive_ = isSupported;\n  }\n\n  return supportsPassive_ ? {passive: true} : false;\n}\n\n/**\n * @param {!Object} HTMLElementPrototype\n * @return {!Array<string>}\n */\nfunction getMatchesProperty(HTMLElementPrototype) {\n  return [\n    'webkitMatchesSelector', 'msMatchesSelector', 'matches',\n  ].filter((p) => p in HTMLElementPrototype).pop();\n}\n\n/**\n * @param {!Event} ev\n * @param {{x: number, y: number}} pageOffset\n * @param {!ClientRect} clientRect\n * @return {{x: number, y: number}}\n */\nfunction getNormalizedEventCoords(ev, pageOffset, clientRect) {\n  const {x, y} = pageOffset;\n  const documentX = x + clientRect.left;\n  const documentY = y + clientRect.top;\n\n  let normalizedX;\n  let normalizedY;\n  // Determine touch point relative to the ripple container.\n  if (ev.type === 'touchstart') {\n    normalizedX = ev.changedTouches[0].pageX - documentX;\n    normalizedY = ev.changedTouches[0].pageY - documentY;\n  } else {\n    normalizedX = ev.pageX - documentX;\n    normalizedY = ev.pageY - documentY;\n  }\n\n  return {x: normalizedX, y: normalizedY};\n}\n\nexport {supportsCssVariables, applyPassive, getMatchesProperty, getNormalizedEventCoords};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Top App Bar\n *\n * Defines the shape of the adapter expected by the foundation. Implement this\n * adapter to integrate the Top App Bar into your framework. See\n * https://github.com/material-components/material-components-web/blob/master/docs/authoring-components.md\n * for more information.\n *\n * @record\n */\nclass MDCTopAppBarAdapter {\n  /**\n   * Adds a class to the root Element.\n   * @param {string} className\n   */\n  addClass(className) {}\n\n  /**\n   * Removes a class from the root Element.\n   * @param {string} className\n   */\n  removeClass(className) {}\n\n  /**\n   * Returns true if the root Element contains the given class.\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /**\n   * Sets the specified inline style property on the root Element to the given value.\n   * @param {string} property\n   * @param {string} value\n   */\n  setStyle(property, value) {}\n\n  /**\n   * Gets the height of the top app bar.\n   * @return {number}\n   */\n  getTopAppBarHeight() {}\n\n  /**\n   * Registers an event handler on the navigation icon element for a given event.\n   * @param {string} type\n   * @param {function(!Event): undefined} handler\n   */\n  registerNavigationIconInteractionHandler(type, handler) {}\n\n  /**\n   * Deregisters an event handler on the navigation icon element for a given event.\n   * @param {string} type\n   * @param {function(!Event): undefined} handler\n   */\n  deregisterNavigationIconInteractionHandler(type, handler) {}\n\n  /**\n   * Emits an event when the navigation icon is clicked.\n   */\n  notifyNavigationIconClicked() {}\n\n  /** @param {function(!Event)} handler */\n  registerScrollHandler(handler) {}\n\n  /** @param {function(!Event)} handler */\n  deregisterScrollHandler(handler) {}\n\n  /** @param {function(!Event)} handler */\n  registerResizeHandler(handler) {}\n\n  /** @param {function(!Event)} handler */\n  deregisterResizeHandler(handler) {}\n\n  /** @return {number} */\n  getViewportScrollY() {}\n\n  /** @return {number} */\n  getTotalActionItems() {}\n}\n\nexport default MDCTopAppBarAdapter;\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @enum {string} */\nconst cssClasses = {\n  FIXED_CLASS: 'mdc-top-app-bar--fixed',\n  FIXED_SCROLLED_CLASS: 'mdc-top-app-bar--fixed-scrolled',\n  SHORT_CLASS: 'mdc-top-app-bar--short',\n  SHORT_HAS_ACTION_ITEM_CLASS: 'mdc-top-app-bar--short-has-action-item',\n  SHORT_COLLAPSED_CLASS: 'mdc-top-app-bar--short-collapsed',\n};\n\n/** @enum {number} */\nconst numbers = {\n  DEBOUNCE_THROTTLE_RESIZE_TIME_MS: 100,\n  MAX_TOP_APP_BAR_HEIGHT: 128,\n};\n\n/** @enum {string} */\nconst strings = {\n  ACTION_ITEM_SELECTOR: '.mdc-top-app-bar__action-item',\n  NAVIGATION_EVENT: 'MDCTopAppBar:nav',\n  NAVIGATION_ICON_SELECTOR: '.mdc-top-app-bar__navigation-icon',\n  ROOT_SELECTOR: '.mdc-top-app-bar',\n  TITLE_SELECTOR: '.mdc-top-app-bar__title',\n};\n\nexport {strings, cssClasses, numbers};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {cssClasses} from '../constants';\nimport MDCTopAppBarAdapter from '../adapter';\nimport MDCTopAppBarFoundation from '../foundation';\n\n/**\n * @extends {MDCTopAppBarFoundation<!MDCFixedTopAppBarFoundation>}\n * @final\n */\nclass MDCFixedTopAppBarFoundation extends MDCTopAppBarFoundation {\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(adapter) {\n    super(adapter);\n    /** State variable for the previous scroll iteration top app bar state */\n    this.wasScrolled_ = false;\n\n    this.scrollHandler_ = () => this.fixedScrollHandler_();\n  }\n\n  init() {\n    super.init();\n    this.adapter_.registerScrollHandler(this.scrollHandler_);\n  }\n\n  destroy() {\n    super.destroy();\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n  }\n\n  /**\n   * Scroll handler for applying/removing the modifier class\n   * on the fixed top app bar.\n   */\n  fixedScrollHandler_() {\n    const currentScroll = this.adapter_.getViewportScrollY();\n\n    if (currentScroll <= 0) {\n      if (this.wasScrolled_) {\n        this.adapter_.removeClass(cssClasses.FIXED_SCROLLED_CLASS);\n        this.wasScrolled_ = false;\n      }\n    } else {\n      if (!this.wasScrolled_) {\n        this.adapter_.addClass(cssClasses.FIXED_SCROLLED_CLASS);\n        this.wasScrolled_ = true;\n      }\n    }\n  }\n}\n\nexport default MDCFixedTopAppBarFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {strings, cssClasses, numbers} from './constants';\nimport MDCTopAppBarAdapter from './adapter';\nimport MDCFoundation from '@material/base/foundation';\n\n/**\n * @extends {MDCFoundation<!MDCTopAppBarAdapter>}\n */\nclass MDCTopAppBarBaseFoundation extends MDCFoundation {\n  /** @return enum {string} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum {string} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /** @return enum {number} */\n  static get numbers() {\n    return numbers;\n  }\n\n  /**\n   * {@see MDCTopAppBarAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCTopAppBarAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCTopAppBarAdapter} */ ({\n      hasClass: (/* className: string */) => {},\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      setStyle: (/* property: string, value: string */) => {},\n      getTopAppBarHeight: () => {},\n      registerNavigationIconInteractionHandler: (/* type: string, handler: EventListener */) => {},\n      deregisterNavigationIconInteractionHandler: (/* type: string, handler: EventListener */) => {},\n      notifyNavigationIconClicked: () => {},\n      registerScrollHandler: (/* handler: EventListener */) => {},\n      deregisterScrollHandler: (/* handler: EventListener */) => {},\n      registerResizeHandler: (/* handler: EventListener */) => {},\n      deregisterResizeHandler: (/* handler: EventListener */) => {},\n      getViewportScrollY: () => /* number */ 0,\n      getTotalActionItems: () => /* number */ 0,\n    });\n  }\n\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(/** @type {!MDCTopAppBarAdapter} */ adapter) {\n    super(Object.assign(MDCTopAppBarBaseFoundation.defaultAdapter, adapter));\n\n    this.navClickHandler_ = () => this.adapter_.notifyNavigationIconClicked();\n  }\n\n  init() {\n    this.adapter_.registerNavigationIconInteractionHandler('click', this.navClickHandler_);\n  }\n\n  destroy() {\n    this.adapter_.deregisterNavigationIconInteractionHandler('click', this.navClickHandler_);\n  }\n}\n\nexport default MDCTopAppBarBaseFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCTopAppBarAdapter from './adapter';\nimport MDCComponent from '@material/base/component';\nimport {MDCRipple} from '@material/ripple/index';\nimport {cssClasses, strings} from './constants';\nimport MDCTopAppBarBaseFoundation from './foundation';\nimport MDCFixedTopAppBarFoundation from './fixed/foundation';\nimport MDCShortTopAppBarFoundation from './short/foundation';\nimport MDCTopAppBarFoundation from './standard/foundation';\n\n/**\n * @extends {MDCComponent<!MDCTopAppBarBaseFoundation>}\n * @final\n */\nclass MDCTopAppBar extends MDCComponent {\n  /**\n   * @param {...?} args\n   */\n  constructor(...args) {\n    super(...args);\n    /** @private {?Element} */\n    this.navIcon_;\n    /** @type {?Array<MDCRipple>} */\n    this.iconRipples_;\n  }\n\n  initialize(\n    rippleFactory = (el) => MDCRipple.attachTo(el)) {\n    this.navIcon_ = this.root_.querySelector(strings.NAVIGATION_ICON_SELECTOR);\n\n    // Get all icons in the toolbar and instantiate the ripples\n    const icons = [].slice.call(this.root_.querySelectorAll(strings.ACTION_ITEM_SELECTOR));\n    if (this.navIcon_) {\n      icons.push(this.navIcon_);\n    }\n\n    this.iconRipples_ = icons.map((icon) => {\n      const ripple = rippleFactory(icon);\n      ripple.unbounded = true;\n      return ripple;\n    });\n  }\n\n  destroy() {\n    this.iconRipples_.forEach((iconRipple) => iconRipple.destroy());\n    super.destroy();\n  }\n\n  /**\n   * @param {!Element} root\n   * @return {!MDCTopAppBar}\n   */\n  static attachTo(root) {\n    return new MDCTopAppBar(root);\n  }\n\n  /**\n   * @return {!MDCTopAppBarBaseFoundation}\n   */\n  getDefaultFoundation() {\n    /** @type {!MDCTopAppBarAdapter} */\n    const adapter = /** @type {!MDCTopAppBarAdapter} */ (Object.assign({\n      hasClass: (className) => this.root_.classList.contains(className),\n      addClass: (className) => this.root_.classList.add(className),\n      removeClass: (className) => this.root_.classList.remove(className),\n      setStyle: (property, value) => this.root_.style.setProperty(property, value),\n      getTopAppBarHeight: () => this.root_.clientHeight,\n      registerNavigationIconInteractionHandler: (evtType, handler) => {\n        if (this.navIcon_) {\n          this.navIcon_.addEventListener(evtType, handler);\n        }\n      },\n      deregisterNavigationIconInteractionHandler: (evtType, handler) => {\n        if (this.navIcon_) {\n          this.navIcon_.removeEventListener(evtType, handler);\n        }\n      },\n      notifyNavigationIconClicked: () => {\n        this.emit(strings.NAVIGATION_EVENT, {});\n      },\n      registerScrollHandler: (handler) => window.addEventListener('scroll', handler),\n      deregisterScrollHandler: (handler) => window.removeEventListener('scroll', handler),\n      registerResizeHandler: (handler) => window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),\n      getViewportScrollY: () => window.pageYOffset,\n      getTotalActionItems: () =>\n        this.root_.querySelectorAll(strings.ACTION_ITEM_SELECTOR).length,\n    })\n    );\n\n    /** @type {!MDCTopAppBarBaseFoundation} */\n    let foundation;\n    if (this.root_.classList.contains(cssClasses.SHORT_CLASS)) {\n      foundation = new MDCShortTopAppBarFoundation(adapter);\n    } else if (this.root_.classList.contains(cssClasses.FIXED_CLASS)) {\n      foundation = new MDCFixedTopAppBarFoundation(adapter);\n    } else {\n      foundation = new MDCTopAppBarFoundation(adapter);\n    }\n\n    return foundation;\n  }\n}\n\nexport {MDCTopAppBar, MDCTopAppBarBaseFoundation,\n  MDCTopAppBarFoundation, MDCFixedTopAppBarFoundation,\n  MDCShortTopAppBarFoundation};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCTopAppBarAdapter from '../adapter';\nimport MDCTopAppBarBaseFoundation from '../foundation';\nimport {cssClasses} from '../constants';\n\n/**\n * @extends {MDCTopAppBarBaseFoundation<!MDCShortTopAppBarFoundation>}\n * @final\n */\nclass MDCShortTopAppBarFoundation extends MDCTopAppBarBaseFoundation {\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(adapter) {\n    super(adapter);\n    // State variable for the current top app bar state\n    this.isCollapsed = false;\n\n    this.scrollHandler_ = () => this.shortAppBarScrollHandler_();\n  }\n\n  init() {\n    super.init();\n    const isAlwaysCollapsed = this.adapter_.hasClass(cssClasses.SHORT_COLLAPSED_CLASS);\n\n    if (this.adapter_.getTotalActionItems() > 0) {\n      this.adapter_.addClass(cssClasses.SHORT_HAS_ACTION_ITEM_CLASS);\n    }\n\n    if (!isAlwaysCollapsed) {\n      this.adapter_.registerScrollHandler(this.scrollHandler_);\n      this.shortAppBarScrollHandler_();\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n  }\n\n\n  /**\n   * Scroll handler for applying/removing the collapsed modifier class\n   * on the short top app bar.\n   * @private\n   */\n  shortAppBarScrollHandler_() {\n    const currentScroll = this.adapter_.getViewportScrollY();\n\n    if (currentScroll <= 0) {\n      if (this.isCollapsed) {\n        this.adapter_.removeClass(cssClasses.SHORT_COLLAPSED_CLASS);\n        this.isCollapsed = false;\n      }\n    } else {\n      if (!this.isCollapsed) {\n        this.adapter_.addClass(cssClasses.SHORT_COLLAPSED_CLASS);\n        this.isCollapsed = true;\n      }\n    }\n  }\n}\n\nexport default MDCShortTopAppBarFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCTopAppBarAdapter from '../adapter';\nimport MDCTopAppBarBaseFoundation from '../foundation';\nimport {numbers} from '../constants';\n\nconst INITIAL_VALUE = 0;\n/**\n * @extends {MDCTopAppBarBaseFoundation<!MDCTopAppBarFoundation>}\n * @final\n */\nclass MDCTopAppBarFoundation extends MDCTopAppBarBaseFoundation {\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(adapter) {\n    super(adapter);\n    /**\n     * Used for diffs of current scroll position vs previous scroll position\n     * @private {number}\n     */\n    this.lastScrollPosition_ = this.adapter_.getViewportScrollY();\n\n    /**\n     * Used to verify when the top app bar is completely showing or completely hidden\n     * @private {number}\n     */\n    this.topAppBarHeight_ = this.adapter_.getTopAppBarHeight();\n\n    /**\n     * wasDocked_ is used to indicate if the top app bar was docked in the previous\n     * scroll handler iteration.\n     * @private {boolean}\n     */\n    this.wasDocked_ = true;\n\n    /**\n     * isDockedShowing_ is used to indicate if the top app bar is docked in the fully\n     * shown position.\n     * @private {boolean}\n     */\n    this.isDockedShowing_ = true;\n\n    /**\n     * Variable for current scroll position of the top app bar\n     * @private {number}\n     */\n    this.currentAppBarOffsetTop_ = 0;\n\n    /**\n     * Used to prevent the top app bar from being scrolled out of view during resize events\n     * @private {boolean} */\n    this.isCurrentlyBeingResized_ = false;\n\n    /**\n     * The timeout that's used to throttle the resize events\n     * @private {number}\n     */\n    this.resizeThrottleId_ = INITIAL_VALUE;\n\n    /**\n     * The timeout that's used to debounce toggling the isCurrentlyBeingResized_ variable after a resize\n     * @private {number}\n     */\n    this.resizeDebounceId_ = INITIAL_VALUE;\n\n    this.scrollHandler_ = () => this.topAppBarScrollHandler_();\n    this.resizeHandler_ = () => this.topAppBarResizeHandler_();\n  }\n\n  init() {\n    super.init();\n    this.adapter_.registerScrollHandler(this.scrollHandler_);\n    this.adapter_.registerResizeHandler(this.resizeHandler_);\n  }\n\n  destroy() {\n    super.destroy();\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n    this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    this.adapter_.setStyle('top', '');\n  }\n\n  /**\n   * Function to determine if the DOM needs to update.\n   * @return {boolean}\n   * @private\n   */\n  checkForUpdate_() {\n    const offscreenBoundaryTop = -this.topAppBarHeight_;\n    const hasAnyPixelsOffscreen = this.currentAppBarOffsetTop_ < 0;\n    const hasAnyPixelsOnscreen = this.currentAppBarOffsetTop_ > offscreenBoundaryTop;\n    const partiallyShowing = hasAnyPixelsOffscreen && hasAnyPixelsOnscreen;\n\n    // If it's partially showing, it can't be docked.\n    if (partiallyShowing) {\n      this.wasDocked_ = false;\n    } else {\n      // Not previously docked and not partially showing, it's now docked.\n      if (!this.wasDocked_) {\n        this.wasDocked_ = true;\n        return true;\n      } else if (this.isDockedShowing_ !== hasAnyPixelsOnscreen) {\n        this.isDockedShowing_ = hasAnyPixelsOnscreen;\n        return true;\n      }\n    }\n\n    return partiallyShowing;\n  }\n\n  /**\n   * Function to move the top app bar if needed.\n   * @private\n   */\n  moveTopAppBar_() {\n    if (this.checkForUpdate_()) {\n      // Once the top app bar is fully hidden we use the max potential top app bar height as our offset\n      // so the top app bar doesn't show if the window resizes and the new height > the old height.\n      let offset = this.currentAppBarOffsetTop_;\n      if (Math.abs(offset) >= this.topAppBarHeight_) {\n        offset = -numbers.MAX_TOP_APP_BAR_HEIGHT;\n      }\n\n      this.adapter_.setStyle('top', offset + 'px');\n    }\n  }\n\n  /**\n   * Scroll handler for the default scroll behavior of the top app bar.\n   * @private\n   */\n  topAppBarScrollHandler_() {\n    const currentScrollPosition = Math.max(this.adapter_.getViewportScrollY(), 0);\n    const diff = currentScrollPosition - this.lastScrollPosition_;\n    this.lastScrollPosition_ = currentScrollPosition;\n\n    // If the window is being resized the lastScrollPosition_ needs to be updated but the\n    // current scroll of the top app bar should stay in the same position.\n    if (!this.isCurrentlyBeingResized_) {\n      this.currentAppBarOffsetTop_ -= diff;\n\n      if (this.currentAppBarOffsetTop_ > 0) {\n        this.currentAppBarOffsetTop_ = 0;\n      } else if (Math.abs(this.currentAppBarOffsetTop_) > this.topAppBarHeight_) {\n        this.currentAppBarOffsetTop_ = -this.topAppBarHeight_;\n      }\n\n      this.moveTopAppBar_();\n    }\n  }\n\n  /**\n   * Top app bar resize handler that throttle/debounce functions that execute updates.\n   * @private\n   */\n  topAppBarResizeHandler_() {\n    // Throttle resize events 10 p/s\n    if (!this.resizeThrottleId_) {\n      this.resizeThrottleId_ = setTimeout(() => {\n        this.resizeThrottleId_ = INITIAL_VALUE;\n        this.throttledResizeHandler_();\n      }, numbers.DEBOUNCE_THROTTLE_RESIZE_TIME_MS);\n    }\n\n    this.isCurrentlyBeingResized_ = true;\n\n    if (this.resizeDebounceId_) {\n      clearTimeout(this.resizeDebounceId_);\n    }\n\n    this.resizeDebounceId_ = setTimeout(() => {\n      this.topAppBarScrollHandler_();\n      this.isCurrentlyBeingResized_ = false;\n      this.resizeDebounceId_ = INITIAL_VALUE;\n    }, numbers.DEBOUNCE_THROTTLE_RESIZE_TIME_MS);\n  }\n\n  /**\n   * Throttled function that updates the top app bar scrolled values if the\n   * top app bar height changes.\n   * @private\n   */\n  throttledResizeHandler_() {\n    const currentHeight = this.adapter_.getTopAppBarHeight();\n    if (this.topAppBarHeight_ !== currentHeight) {\n      this.wasDocked_ = false;\n\n      // Since the top app bar has a different height depending on the screen width, this\n      // will ensure that the top app bar remains in the correct location if\n      // completely hidden and a resize makes the top app bar a different height.\n      this.currentAppBarOffsetTop_ -= this.topAppBarHeight_ - currentHeight;\n      this.topAppBarHeight_ = currentHeight;\n    }\n    this.topAppBarScrollHandler_();\n  }\n}\n\nexport default MDCTopAppBarFoundation;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"./src/common.browser/Exports\");\nvar Exports_2 = require(\"./src/common/Exports\");\n// Common.Storage.SetLocalStorage(new Common.Browser.LocalStorage());\n// Common.Storage.SetSessionStorage(new Common.Browser.SessionStorage());\nExports_2.Events.Instance.AttachListener(new Exports_1.ConsoleLoggingListener());\n__export(require(\"./src/common/Exports\"));\n__export(require(\"./src/common.browser/Exports\"));\n__export(require(\"./src/sdk/speech/Exports\"));\n__export(require(\"./src/sdk/speech.browser/Exports\"));\n\n//# sourceMappingURL=Speech.Browser.Sdk.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../common/Exports\");\nvar ConsoleLoggingListener = /** @class */ (function () {\n    function ConsoleLoggingListener(logLevelFilter) {\n        if (logLevelFilter === void 0) { logLevelFilter = Exports_1.EventType.Warning; }\n        var _this = this;\n        this.OnEvent = function (event) {\n            if (event.EventType >= _this.logLevelFilter) {\n                var log = _this.ToString(event);\n                switch (event.EventType) {\n                    case Exports_1.EventType.Debug:\n                        // tslint:disable-next-line:no-console\n                        console.debug(log);\n                        break;\n                    case Exports_1.EventType.Info:\n                        // tslint:disable-next-line:no-console\n                        console.info(log);\n                        break;\n                    case Exports_1.EventType.Warning:\n                        // tslint:disable-next-line:no-console\n                        console.warn(log);\n                        break;\n                    case Exports_1.EventType.Error:\n                        // tslint:disable-next-line:no-console\n                        console.error(log);\n                        break;\n                    default:\n                        // tslint:disable-next-line:no-console\n                        console.log(log);\n                        break;\n                }\n            }\n        };\n        this.ToString = function (event) {\n            var logFragments = [\n                \"\" + event.EventTime,\n                \"\" + event.Name,\n            ];\n            for (var prop in event) {\n                if (prop && event.hasOwnProperty(prop) && prop !== \"eventTime\" && prop !== \"eventType\" && prop !== \"eventId\" && prop !== \"name\" && prop !== \"constructor\") {\n                    var value = event[prop];\n                    var valueToLog = \"<NULL>\";\n                    if (value !== undefined && value !== null) {\n                        if (typeof (value) === \"number\" || typeof (value) === \"string\") {\n                            valueToLog = value.toString();\n                        }\n                        else {\n                            valueToLog = JSON.stringify(value);\n                        }\n                    }\n                    logFragments.push(prop + \": \" + valueToLog);\n                }\n            }\n            return logFragments.join(\" | \");\n        };\n        this.logLevelFilter = logLevelFilter;\n    }\n    return ConsoleLoggingListener;\n}());\nexports.ConsoleLoggingListener = ConsoleLoggingListener;\n\n//# sourceMappingURL=ConsoleLoggingListener.js.map\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./ConsoleLoggingListener\"));\n__export(require(\"./LocalStorage\"));\n__export(require(\"./MicAudioSource\"));\n__export(require(\"./FileAudioSource\"));\n__export(require(\"./OpusRecorder\"));\n__export(require(\"./PCMRecorder\"));\n__export(require(\"./SessionStorage\"));\n__export(require(\"./Timer\"));\n__export(require(\"./WebsocketConnection\"));\n__export(require(\"./WebsocketMessageAdapter\"));\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../common/Exports\");\nvar Exports_2 = require(\"../common.browser/Exports\");\nvar FileAudioSource = /** @class */ (function () {\n    function FileAudioSource(file, audioSourceId) {\n        var _this = this;\n        this.streams = {};\n        this.TurnOn = function () {\n            if (typeof FileReader === \"undefined\") {\n                var errorMsg = \"Browser does not support FileReader.\";\n                _this.OnEvent(new Exports_1.AudioSourceErrorEvent(errorMsg, \"\")); // initialization error - no streamid at this point\n                return Exports_1.PromiseHelper.FromError(errorMsg);\n            }\n            else if (_this.file.name.lastIndexOf(\".wav\") !== _this.file.name.length - 4) {\n                var errorMsg = _this.file.name + \" is not supported. Only WAVE files are allowed at the moment.\";\n                _this.OnEvent(new Exports_1.AudioSourceErrorEvent(errorMsg, \"\"));\n                return Exports_1.PromiseHelper.FromError(errorMsg);\n            }\n            else if (_this.file.size > FileAudioSource.MAX_SIZE) {\n                var errorMsg = _this.file.name + \" exceeds the maximum allowed file size (\" + FileAudioSource.MAX_SIZE + \").\";\n                _this.OnEvent(new Exports_1.AudioSourceErrorEvent(errorMsg, \"\"));\n                return Exports_1.PromiseHelper.FromError(errorMsg);\n            }\n            _this.OnEvent(new Exports_1.AudioSourceInitializingEvent(_this.id)); // no stream id\n            _this.OnEvent(new Exports_1.AudioSourceReadyEvent(_this.id));\n            return Exports_1.PromiseHelper.FromResult(true);\n        };\n        this.Id = function () {\n            return _this.id;\n        };\n        this.Attach = function (audioNodeId) {\n            _this.OnEvent(new Exports_1.AudioStreamNodeAttachingEvent(_this.id, audioNodeId));\n            return _this.Upload(audioNodeId).OnSuccessContinueWith(function (streamReader) {\n                _this.OnEvent(new Exports_1.AudioStreamNodeAttachedEvent(_this.id, audioNodeId));\n                return {\n                    Detach: function () {\n                        streamReader.Close();\n                        delete _this.streams[audioNodeId];\n                        _this.OnEvent(new Exports_1.AudioStreamNodeDetachedEvent(_this.id, audioNodeId));\n                        _this.TurnOff();\n                    },\n                    Id: function () {\n                        return audioNodeId;\n                    },\n                    Read: function () {\n                        return streamReader.Read();\n                    },\n                };\n            });\n        };\n        this.Detach = function (audioNodeId) {\n            if (audioNodeId && _this.streams[audioNodeId]) {\n                _this.streams[audioNodeId].Close();\n                delete _this.streams[audioNodeId];\n                _this.OnEvent(new Exports_1.AudioStreamNodeDetachedEvent(_this.id, audioNodeId));\n            }\n        };\n        this.TurnOff = function () {\n            for (var streamId in _this.streams) {\n                if (streamId) {\n                    var stream = _this.streams[streamId];\n                    if (stream && !stream.IsClosed) {\n                        stream.Close();\n                    }\n                }\n            }\n            _this.OnEvent(new Exports_1.AudioSourceOffEvent(_this.id)); // no stream now\n            return Exports_1.PromiseHelper.FromResult(true);\n        };\n        this.Upload = function (audioNodeId) {\n            return _this.TurnOn()\n                .OnSuccessContinueWith(function (_) {\n                var stream = new Exports_1.Stream(audioNodeId);\n                _this.streams[audioNodeId] = stream;\n                var reader = new FileReader();\n                var startOffset = 0;\n                var endOffset = FileAudioSource.CHUNK_SIZE;\n                var lastWriteTimestamp = 0;\n                var processNextChunk = function (event) {\n                    if (stream.IsClosed) {\n                        return; // output stream was closed (somebody called TurnOff). We're done here.\n                    }\n                    if (lastWriteTimestamp !== 0) {\n                        var delay = Date.now() - lastWriteTimestamp;\n                        if (delay < FileAudioSource.UPLOAD_INTERVAL) {\n                            // It's been less than the \"upload interval\" since we've uploaded the\n                            // last chunk. Schedule the next upload to make sure that we're sending\n                            // upstream roughly one chunk per upload interval.\n                            new Exports_2.Timer(FileAudioSource.UPLOAD_INTERVAL - delay, processNextChunk).start();\n                            return;\n                        }\n                    }\n                    stream.Write(reader.result);\n                    lastWriteTimestamp = Date.now();\n                    if (endOffset < _this.file.size) {\n                        startOffset = endOffset;\n                        endOffset = Math.min(endOffset + FileAudioSource.CHUNK_SIZE, _this.file.size);\n                        var chunk_1 = _this.file.slice(startOffset, endOffset);\n                        reader.readAsArrayBuffer(chunk_1);\n                    }\n                    else {\n                        // we've written the entire file to the output stream, can close it now.\n                        stream.Close();\n                    }\n                };\n                reader.onload = processNextChunk;\n                reader.onerror = function (event) {\n                    var errorMsg = \"Error occurred while processing '\" + _this.file.name + \"'. \" + event.error;\n                    _this.OnEvent(new Exports_1.AudioStreamNodeErrorEvent(_this.id, audioNodeId, event.error));\n                    throw new Error(errorMsg);\n                };\n                var chunk = _this.file.slice(startOffset, endOffset);\n                reader.readAsArrayBuffer(chunk);\n                return stream.GetReader();\n            });\n        };\n        this.OnEvent = function (event) {\n            _this.events.OnEvent(event);\n            Exports_1.Events.Instance.OnEvent(event);\n        };\n        this.id = audioSourceId ? audioSourceId : Exports_1.CreateNoDashGuid();\n        this.events = new Exports_1.EventSource();\n        this.file = file;\n    }\n    Object.defineProperty(FileAudioSource.prototype, \"Events\", {\n        get: function () {\n            return this.events;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Recommended sample rate (bytes/second).\n    FileAudioSource.SAMPLE_RATE = 16000 * 2; // 16 kHz * 16 bits\n    // We should stream audio at no faster than 2x real-time (i.e., send five chunks\n    // per second, with the chunk size == sample rate in bytes per second * 2 / 5).\n    FileAudioSource.CHUNK_SIZE = FileAudioSource.SAMPLE_RATE * 2 / 5;\n    FileAudioSource.UPLOAD_INTERVAL = 200; // milliseconds\n    // 10 seconds of audio in bytes =\n    // sample rate (bytes/second) * 600 (seconds) + 44 (size of the wave header).\n    FileAudioSource.MAX_SIZE = FileAudioSource.SAMPLE_RATE * 600 + 44;\n    return FileAudioSource;\n}());\nexports.FileAudioSource = FileAudioSource;\n\n//# sourceMappingURL=FileAudioSource.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../common/Exports\");\nvar LocalStorage = /** @class */ (function () {\n    function LocalStorage() {\n        this.Get = function (key) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            return localStorage.getItem(key);\n        };\n        this.GetOrAdd = function (key, valueToAdd) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            var value = localStorage.getItem(key);\n            if (value === null || value === undefined) {\n                localStorage.setItem(key, valueToAdd);\n            }\n            return localStorage.getItem(key);\n        };\n        this.Set = function (key, value) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            localStorage.setItem(key, value);\n        };\n        this.Remove = function (key) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            localStorage.removeItem(key);\n        };\n    }\n    return LocalStorage;\n}());\nexports.LocalStorage = LocalStorage;\n\n//# sourceMappingURL=LocalStorage.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../common/Exports\");\nvar MicAudioSource = /** @class */ (function () {\n    function MicAudioSource(recorder, audioSourceId) {\n        var _this = this;\n        this.streams = {};\n        this.TurnOn = function () {\n            if (_this.initializeDeferral) {\n                return _this.initializeDeferral.Promise();\n            }\n            _this.initializeDeferral = new Exports_1.Deferred();\n            _this.CreateAudioContext();\n            var nav = window.navigator;\n            var getUserMedia = (nav.getUserMedia ||\n                nav.webkitGetUserMedia ||\n                nav.mozGetUserMedia ||\n                nav.msGetUserMedia);\n            if (!!nav.mediaDevices) {\n                getUserMedia = function (constraints, successCallback, errorCallback) {\n                    nav.mediaDevices\n                        .getUserMedia(constraints)\n                        .then(successCallback)\n                        .catch(errorCallback);\n                };\n            }\n            if (!getUserMedia) {\n                var errorMsg = \"Browser does not support getUserMedia.\";\n                _this.initializeDeferral.Reject(errorMsg);\n                _this.OnEvent(new Exports_1.AudioSourceErrorEvent(errorMsg, \"\")); // mic initialized error - no streamid at this point\n            }\n            else {\n                var next = function () {\n                    _this.OnEvent(new Exports_1.AudioSourceInitializingEvent(_this.id)); // no stream id\n                    getUserMedia({ audio: true, video: false }, function (mediaStream) {\n                        _this.mediaStream = mediaStream;\n                        _this.OnEvent(new Exports_1.AudioSourceReadyEvent(_this.id));\n                        _this.initializeDeferral.Resolve(true);\n                    }, function (error) {\n                        var errorMsg = \"Error occurred during microphone initialization: \" + error;\n                        var tmp = _this.initializeDeferral;\n                        // HACK: this should be handled through onError callbacks of all promises up the stack.\n                        // Unfortunately, the current implementation does not provide an easy way to reject promises\n                        // without a lot of code replication.\n                        // TODO: fix promise implementation, allow for a graceful reject chaining.\n                        _this.initializeDeferral = null;\n                        tmp.Reject(errorMsg); // this will bubble up through the whole chain of promises,\n                        // with each new level adding extra \"Unhandled callback error\" prefix to the error message.\n                        // The following line is not guaranteed to be executed.\n                        _this.OnEvent(new Exports_1.AudioSourceErrorEvent(_this.id, errorMsg));\n                    });\n                };\n                if (_this.context.state === \"suspended\") {\n                    // NOTE: On iOS, the Web Audio API requires sounds to be triggered from an explicit user action.\n                    // https://github.com/WebAudio/web-audio-api/issues/790\n                    _this.context.resume().then(next, function (reason) {\n                        _this.initializeDeferral.Reject(\"Failed to initialize audio context: \" + reason);\n                    });\n                }\n                else {\n                    next();\n                }\n            }\n            return _this.initializeDeferral.Promise();\n        };\n        this.Id = function () {\n            return _this.id;\n        };\n        this.Attach = function (audioNodeId) {\n            _this.OnEvent(new Exports_1.AudioStreamNodeAttachingEvent(_this.id, audioNodeId));\n            return _this.Listen(audioNodeId).OnSuccessContinueWith(function (streamReader) {\n                _this.OnEvent(new Exports_1.AudioStreamNodeAttachedEvent(_this.id, audioNodeId));\n                return {\n                    Detach: function () {\n                        streamReader.Close();\n                        delete _this.streams[audioNodeId];\n                        _this.OnEvent(new Exports_1.AudioStreamNodeDetachedEvent(_this.id, audioNodeId));\n                        _this.TurnOff();\n                    },\n                    Id: function () {\n                        return audioNodeId;\n                    },\n                    Read: function () {\n                        return streamReader.Read();\n                    },\n                };\n            });\n        };\n        this.Detach = function (audioNodeId) {\n            if (audioNodeId && _this.streams[audioNodeId]) {\n                _this.streams[audioNodeId].Close();\n                delete _this.streams[audioNodeId];\n                _this.OnEvent(new Exports_1.AudioStreamNodeDetachedEvent(_this.id, audioNodeId));\n            }\n        };\n        this.TurnOff = function () {\n            for (var streamId in _this.streams) {\n                if (streamId) {\n                    var stream = _this.streams[streamId];\n                    if (stream) {\n                        stream.Close();\n                    }\n                }\n            }\n            _this.OnEvent(new Exports_1.AudioSourceOffEvent(_this.id)); // no stream now\n            _this.initializeDeferral = null;\n            _this.DestroyAudioContext();\n            return Exports_1.PromiseHelper.FromResult(true);\n        };\n        this.Listen = function (audioNodeId) {\n            return _this.TurnOn()\n                .OnSuccessContinueWith(function (_) {\n                var stream = new Exports_1.Stream(audioNodeId);\n                _this.streams[audioNodeId] = stream;\n                try {\n                    _this.recorder.Record(_this.context, _this.mediaStream, stream);\n                }\n                catch (error) {\n                    _this.OnEvent(new Exports_1.AudioStreamNodeErrorEvent(_this.id, audioNodeId, error));\n                    throw error;\n                }\n                return stream.GetReader();\n            });\n        };\n        this.OnEvent = function (event) {\n            _this.events.OnEvent(event);\n            Exports_1.Events.Instance.OnEvent(event);\n        };\n        this.CreateAudioContext = function () {\n            if (!!_this.context) {\n                return;\n            }\n            // https://developer.mozilla.org/en-US/docs/Web/API/AudioContext\n            var AudioContext = (window.AudioContext)\n                || (window.webkitAudioContext)\n                || false;\n            if (!AudioContext) {\n                throw new Error(\"Browser does not support Web Audio API (AudioContext is not available).\");\n            }\n            _this.context = new AudioContext();\n        };\n        this.DestroyAudioContext = function () {\n            if (!_this.context) {\n                return;\n            }\n            _this.recorder.ReleaseMediaResources(_this.context);\n            if (\"close\" in _this.context) {\n                _this.context.close();\n                _this.context = null;\n            }\n            else if (_this.context.state === \"running\") {\n                // Suspend actually takes a callback, but analogous to the\n                // resume method, it'll be only fired if suspend is called\n                // in a direct response to a user action. The later is not always\n                // the case, as TurnOff is also called, when we receive an\n                // end-of-speech message from the service. So, doing a best effort\n                // fire-and-forget here.\n                _this.context.suspend();\n            }\n        };\n        this.id = audioSourceId ? audioSourceId : Exports_1.CreateNoDashGuid();\n        this.events = new Exports_1.EventSource();\n        this.recorder = recorder;\n    }\n    Object.defineProperty(MicAudioSource.prototype, \"Events\", {\n        get: function () {\n            return this.events;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MicAudioSource;\n}());\nexports.MicAudioSource = MicAudioSource;\n\n//# sourceMappingURL=MicAudioSource.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar OpusRecorder = /** @class */ (function () {\n    function OpusRecorder(options) {\n        var _this = this;\n        this.Record = function (context, mediaStream, outputStream) {\n            var mediaRecorder = new MediaRecorder(mediaStream, _this.mediaRecorderOptions);\n            var timeslice = 100; // this is in ms - 100 ensures that the chunk doesn't exceed the max size of chunk allowed in WS connection\n            mediaRecorder.ondataavailable = function (dataAvailableEvent) {\n                if (outputStream) {\n                    var reader_1 = new FileReader();\n                    reader_1.readAsArrayBuffer(dataAvailableEvent.data);\n                    reader_1.onloadend = function (event) {\n                        outputStream.Write(reader_1.result);\n                    };\n                }\n            };\n            _this.mediaResources = {\n                recorder: mediaRecorder,\n                stream: mediaStream,\n            };\n            mediaRecorder.start(timeslice);\n        };\n        this.ReleaseMediaResources = function (context) {\n            if (_this.mediaResources.recorder.state !== \"inactive\") {\n                _this.mediaResources.recorder.stop();\n            }\n            _this.mediaResources.stream.getTracks().forEach(function (track) { return track.stop(); });\n        };\n        this.mediaRecorderOptions = options;\n    }\n    return OpusRecorder;\n}());\nexports.OpusRecorder = OpusRecorder;\n/* Declaring this inline to avoid compiler warnings\ndeclare class MediaRecorder {\n    constructor(mediaStream: MediaStream, options: any);\n\r\n    public state: string;\n\r\n    public ondataavailable(dataAvailableEvent: any): void;\n    public stop(): void;\n}*/\n\n//# sourceMappingURL=OpusRecorder.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../common/Exports\");\nvar PcmRecorder = /** @class */ (function () {\n    function PcmRecorder() {\n        var _this = this;\n        this.Record = function (context, mediaStream, outputStream) {\n            var desiredSampleRate = 16000;\n            // https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createScriptProcessor\n            var scriptNode = (function () {\n                var bufferSize = 0;\n                try {\n                    return context.createScriptProcessor(bufferSize, 1, 1);\n                }\n                catch (error) {\n                    // Webkit (<= version 31) requires a valid bufferSize.\n                    bufferSize = 2048;\n                    var audioSampleRate = context.sampleRate;\n                    while (bufferSize < 16384 && audioSampleRate >= (2 * desiredSampleRate)) {\n                        bufferSize <<= 1;\n                        audioSampleRate >>= 1;\n                    }\n                    return context.createScriptProcessor(bufferSize, 1, 1);\n                }\n            })();\n            var waveStreamEncoder = new Exports_1.RiffPcmEncoder(context.sampleRate, desiredSampleRate);\n            var needHeader = true;\n            var that = _this;\n            scriptNode.onaudioprocess = function (event) {\n                var inputFrame = event.inputBuffer.getChannelData(0);\n                if (outputStream && !outputStream.IsClosed) {\n                    var waveFrame = waveStreamEncoder.Encode(needHeader, inputFrame);\n                    if (!!waveFrame) {\n                        outputStream.Write(waveFrame);\n                        needHeader = false;\n                    }\n                }\n            };\n            // https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createMediaStreamSource\n            var micInput = context.createMediaStreamSource(mediaStream);\n            _this.mediaResources = {\n                scriptProcessorNode: scriptNode,\n                source: micInput,\n                stream: mediaStream,\n            };\n            micInput.connect(scriptNode);\n            scriptNode.connect(context.destination);\n        };\n        this.ReleaseMediaResources = function (context) {\n            if (_this.mediaResources) {\n                if (_this.mediaResources.scriptProcessorNode) {\n                    _this.mediaResources.scriptProcessorNode.disconnect(context.destination);\n                    _this.mediaResources.scriptProcessorNode = null;\n                }\n                if (_this.mediaResources.source) {\n                    _this.mediaResources.source.disconnect();\n                    _this.mediaResources.stream.getTracks().forEach(function (track) { return track.stop(); });\n                    _this.mediaResources.source = null;\n                }\n            }\n        };\n    }\n    return PcmRecorder;\n}());\nexports.PcmRecorder = PcmRecorder;\n\n//# sourceMappingURL=PCMRecorder.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../common/Exports\");\nvar SessionStorage = /** @class */ (function () {\n    function SessionStorage() {\n        this.Get = function (key) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            return sessionStorage.getItem(key);\n        };\n        this.GetOrAdd = function (key, valueToAdd) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            var value = sessionStorage.getItem(key);\n            if (value === null || value === undefined) {\n                sessionStorage.setItem(key, valueToAdd);\n            }\n            return sessionStorage.getItem(key);\n        };\n        this.Set = function (key, value) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            sessionStorage.setItem(key, value);\n        };\n        this.Remove = function (key) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            sessionStorage.removeItem(key);\n        };\n    }\n    return SessionStorage;\n}());\nexports.SessionStorage = SessionStorage;\n\n//# sourceMappingURL=SessionStorage.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Timer = /** @class */ (function () {\n    function Timer(delayInMillisec, successCallback) {\n        var _this = this;\n        this.start = function () {\n            var params = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                params[_i] = arguments[_i];\n            }\n            if (_this.timerId) {\n                _this.stop();\n            }\n            _this.timerId = setTimeout(_this.successCallback, _this.delayInMillisec, params);\n        };\n        this.stop = function () {\n            clearTimeout(_this.timerId);\n        };\n        this.delayInMillisec = delayInMillisec;\n        this.successCallback = successCallback;\n    }\n    return Timer;\n}());\nexports.Timer = Timer;\n\n//# sourceMappingURL=Timer.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../common/Exports\");\nvar WebsocketMessageAdapter_1 = require(\"./WebsocketMessageAdapter\");\nvar WebsocketConnection = /** @class */ (function () {\n    function WebsocketConnection(uri, queryParameters, headers, messageFormatter, connectionId) {\n        var _this = this;\n        this.isDisposed = false;\n        this.Dispose = function () {\n            _this.isDisposed = true;\n            if (_this.connectionMessageAdapter) {\n                _this.connectionMessageAdapter.Close();\n            }\n        };\n        this.IsDisposed = function () {\n            return _this.isDisposed;\n        };\n        this.State = function () {\n            return _this.connectionMessageAdapter.State;\n        };\n        this.Open = function () {\n            return _this.connectionMessageAdapter.Open();\n        };\n        this.Send = function (message) {\n            return _this.connectionMessageAdapter.Send(message);\n        };\n        this.Read = function () {\n            return _this.connectionMessageAdapter.Read();\n        };\n        if (!uri) {\n            throw new Exports_1.ArgumentNullError(\"uri\");\n        }\n        if (!messageFormatter) {\n            throw new Exports_1.ArgumentNullError(\"messageFormatter\");\n        }\n        this.messageFormatter = messageFormatter;\n        var queryParams = \"\";\n        var i = 0;\n        if (queryParameters) {\n            for (var paramName in queryParameters) {\n                if (paramName) {\n                    queryParams += i === 0 ? \"?\" : \"&\";\n                    var val = encodeURIComponent(queryParameters[paramName]);\n                    queryParams += paramName + \"=\" + val;\n                    i++;\n                }\n            }\n        }\n        if (headers) {\n            for (var headerName in headers) {\n                if (headerName) {\n                    queryParams += i === 0 ? \"?\" : \"&\";\n                    var val = encodeURIComponent(headers[headerName]);\n                    queryParams += headerName + \"=\" + val;\n                    i++;\n                }\n            }\n        }\n        this.uri = uri + queryParams;\n        this.id = connectionId ? connectionId : Exports_1.CreateNoDashGuid();\n        this.connectionMessageAdapter = new WebsocketMessageAdapter_1.WebsocketMessageAdapter(this.uri, this.Id, this.messageFormatter);\n    }\n    Object.defineProperty(WebsocketConnection.prototype, \"Id\", {\n        get: function () {\n            return this.id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebsocketConnection.prototype, \"Events\", {\n        get: function () {\n            return this.connectionMessageAdapter.Events;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return WebsocketConnection;\n}());\nexports.WebsocketConnection = WebsocketConnection;\n\n//# sourceMappingURL=WebsocketConnection.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../common/Exports\");\nvar WebsocketMessageAdapter = /** @class */ (function () {\n    function WebsocketMessageAdapter(uri, connectionId, messageFormatter) {\n        var _this = this;\n        this.Open = function () {\n            if (_this.connectionState === Exports_1.ConnectionState.Disconnected) {\n                return Exports_1.PromiseHelper.FromError(\"Cannot open a connection that is in \" + _this.connectionState + \" state\");\n            }\n            if (_this.connectionEstablishDeferral) {\n                return _this.connectionEstablishDeferral.Promise();\n            }\n            _this.connectionEstablishDeferral = new Exports_1.Deferred();\n            _this.connectionState = Exports_1.ConnectionState.Connecting;\n            _this.websocketClient = new WebSocket(_this.uri);\n            _this.websocketClient.binaryType = \"arraybuffer\";\n            _this.receivingMessageQueue = new Exports_1.Queue();\n            _this.disconnectDeferral = new Exports_1.Deferred();\n            _this.sendMessageQueue = new Exports_1.Queue();\n            _this.ProcessSendQueue();\n            _this.OnEvent(new Exports_1.ConnectionStartEvent(_this.connectionId, _this.uri));\n            _this.websocketClient.onopen = function (e) {\n                _this.connectionState = Exports_1.ConnectionState.Connected;\n                _this.OnEvent(new Exports_1.ConnectionEstablishedEvent(_this.connectionId));\n                _this.connectionEstablishDeferral.Resolve(new Exports_1.ConnectionOpenResponse(200, \"\"));\n            };\n            _this.websocketClient.onerror = function (e) {\n                // TODO: Understand what this is error is. Will we still get onClose ?\n                if (_this.connectionState !== Exports_1.ConnectionState.Connecting) {\n                    // TODO: Is this required ?\n                    // this.OnEvent(new ConnectionErrorEvent(errorMsg, connectionId));\n                }\n            };\n            _this.websocketClient.onclose = function (e) {\n                if (_this.connectionState === Exports_1.ConnectionState.Connecting) {\n                    _this.connectionState = Exports_1.ConnectionState.Disconnected;\n                    _this.OnEvent(new Exports_1.ConnectionEstablishErrorEvent(_this.connectionId, e.code, e.reason));\n                    _this.connectionEstablishDeferral.Resolve(new Exports_1.ConnectionOpenResponse(e.code, e.reason));\n                }\n                else {\n                    _this.OnEvent(new Exports_1.ConnectionClosedEvent(_this.connectionId, e.code, e.reason));\n                }\n                _this.OnClose(e.code, e.reason);\n            };\n            _this.websocketClient.onmessage = function (e) {\n                var networkReceivedTime = new Date().toISOString();\n                if (_this.connectionState === Exports_1.ConnectionState.Connected) {\n                    var deferred_1 = new Exports_1.Deferred();\n                    // let id = ++this.idCounter;\n                    _this.receivingMessageQueue.EnqueueFromPromise(deferred_1.Promise());\n                    if (e.data instanceof ArrayBuffer) {\n                        var rawMessage = new Exports_1.RawWebsocketMessage(Exports_1.MessageType.Binary, e.data);\n                        _this.messageFormatter\n                            .ToConnectionMessage(rawMessage)\n                            .On(function (connectionMessage) {\n                            _this.OnEvent(new Exports_1.ConnectionMessageReceivedEvent(_this.connectionId, networkReceivedTime, connectionMessage));\n                            deferred_1.Resolve(connectionMessage);\n                        }, function (error) {\n                            // TODO: Events for these ?\n                            deferred_1.Reject(\"Invalid binary message format. Error: \" + error);\n                        });\n                    }\n                    else {\n                        var rawMessage = new Exports_1.RawWebsocketMessage(Exports_1.MessageType.Text, e.data);\n                        _this.messageFormatter\n                            .ToConnectionMessage(rawMessage)\n                            .On(function (connectionMessage) {\n                            _this.OnEvent(new Exports_1.ConnectionMessageReceivedEvent(_this.connectionId, networkReceivedTime, connectionMessage));\n                            deferred_1.Resolve(connectionMessage);\n                        }, function (error) {\n                            // TODO: Events for these ?\n                            deferred_1.Reject(\"Invalid text message format. Error: \" + error);\n                        });\n                    }\n                }\n            };\n            return _this.connectionEstablishDeferral.Promise();\n        };\n        this.Send = function (message) {\n            if (_this.connectionState !== Exports_1.ConnectionState.Connected) {\n                return Exports_1.PromiseHelper.FromError(\"Cannot send on connection that is in \" + _this.connectionState + \" state\");\n            }\n            var messageSendStatusDeferral = new Exports_1.Deferred();\n            var messageSendDeferral = new Exports_1.Deferred();\n            _this.sendMessageQueue.EnqueueFromPromise(messageSendDeferral.Promise());\n            _this.messageFormatter\n                .FromConnectionMessage(message)\n                .On(function (rawMessage) {\n                messageSendDeferral.Resolve({\n                    Message: message,\n                    RawWebsocketMessage: rawMessage,\n                    SendStatusDeferral: messageSendStatusDeferral,\n                });\n            }, function (error) {\n                messageSendDeferral.Reject(\"Error formatting the message. \" + error);\n            });\n            return messageSendStatusDeferral.Promise();\n        };\n        this.Read = function () {\n            if (_this.connectionState !== Exports_1.ConnectionState.Connected) {\n                return Exports_1.PromiseHelper.FromError(\"Cannot read on connection that is in \" + _this.connectionState + \" state\");\n            }\n            return _this.receivingMessageQueue.Dequeue();\n        };\n        this.Close = function (reason) {\n            if (_this.websocketClient) {\n                if (_this.connectionState !== Exports_1.ConnectionState.Connected) {\n                    _this.websocketClient.close(1000, reason ? reason : \"Normal closure by client\");\n                }\n            }\n            else {\n                var deferral = new Exports_1.Deferred();\n                deferral.Resolve(true);\n                return deferral.Promise();\n            }\n            return _this.disconnectDeferral.Promise();\n        };\n        this.SendRawMessage = function (sendItem) {\n            try {\n                _this.OnEvent(new Exports_1.ConnectionMessageSentEvent(_this.connectionId, new Date().toISOString(), sendItem.Message));\n                _this.websocketClient.send(sendItem.RawWebsocketMessage.Payload);\n                return Exports_1.PromiseHelper.FromResult(true);\n            }\n            catch (e) {\n                return Exports_1.PromiseHelper.FromError(\"websocket send error: \" + e);\n            }\n        };\n        this.OnClose = function (code, reason) {\n            var closeReason = \"Connection closed. \" + code + \": \" + reason;\n            _this.connectionState = Exports_1.ConnectionState.Disconnected;\n            _this.disconnectDeferral.Resolve(true);\n            _this.receivingMessageQueue.Dispose(reason);\n            _this.receivingMessageQueue.DrainAndDispose(function (pendingReceiveItem) {\n                // TODO: Events for these ?\n                // Logger.Instance.OnEvent(new LoggingEvent(LogType.Warning, null, `Failed to process received message. Reason: ${closeReason}, Message: ${JSON.stringify(pendingReceiveItem)}`));\n            }, closeReason);\n            _this.sendMessageQueue.DrainAndDispose(function (pendingSendItem) {\n                pendingSendItem.SendStatusDeferral.Reject(closeReason);\n            }, closeReason);\n        };\n        this.ProcessSendQueue = function () {\n            _this.sendMessageQueue\n                .Dequeue()\n                .On(function (sendItem) {\n                _this.SendRawMessage(sendItem)\n                    .On(function (result) {\n                    sendItem.SendStatusDeferral.Resolve(result);\n                    _this.ProcessSendQueue();\n                }, function (sendError) {\n                    sendItem.SendStatusDeferral.Reject(sendError);\n                    _this.ProcessSendQueue();\n                });\n            }, function (error) {\n                // do nothing\n            });\n        };\n        this.OnEvent = function (event) {\n            _this.connectionEvents.OnEvent(event);\n            Exports_1.Events.Instance.OnEvent(event);\n        };\n        if (!uri) {\n            throw new Exports_1.ArgumentNullError(\"uri\");\n        }\n        if (!messageFormatter) {\n            throw new Exports_1.ArgumentNullError(\"messageFormatter\");\n        }\n        this.connectionEvents = new Exports_1.EventSource();\n        this.connectionId = connectionId;\n        this.messageFormatter = messageFormatter;\n        this.connectionState = Exports_1.ConnectionState.None;\n        this.uri = uri;\n    }\n    Object.defineProperty(WebsocketMessageAdapter.prototype, \"State\", {\n        get: function () {\n            return this.connectionState;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebsocketMessageAdapter.prototype, \"Events\", {\n        get: function () {\n            return this.connectionEvents;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return WebsocketMessageAdapter;\n}());\nexports.WebsocketMessageAdapter = WebsocketMessageAdapter;\n\n//# sourceMappingURL=WebsocketMessageAdapter.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PlatformEvent_1 = require(\"./PlatformEvent\");\nvar AudioSourceEvent = /** @class */ (function (_super) {\n    __extends(AudioSourceEvent, _super);\n    function AudioSourceEvent(eventName, audioSourceId, eventType) {\n        if (eventType === void 0) { eventType = PlatformEvent_1.EventType.Info; }\n        var _this = _super.call(this, eventName, eventType) || this;\n        _this.audioSourceId = audioSourceId;\n        return _this;\n    }\n    Object.defineProperty(AudioSourceEvent.prototype, \"AudioSourceId\", {\n        get: function () {\n            return this.audioSourceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AudioSourceEvent;\n}(PlatformEvent_1.PlatformEvent));\nexports.AudioSourceEvent = AudioSourceEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioSourceInitializingEvent = /** @class */ (function (_super) {\n    __extends(AudioSourceInitializingEvent, _super);\n    function AudioSourceInitializingEvent(audioSourceId) {\n        return _super.call(this, \"AudioSourceInitializingEvent\", audioSourceId) || this;\n    }\n    return AudioSourceInitializingEvent;\n}(AudioSourceEvent));\nexports.AudioSourceInitializingEvent = AudioSourceInitializingEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioSourceReadyEvent = /** @class */ (function (_super) {\n    __extends(AudioSourceReadyEvent, _super);\n    function AudioSourceReadyEvent(audioSourceId) {\n        return _super.call(this, \"AudioSourceReadyEvent\", audioSourceId) || this;\n    }\n    return AudioSourceReadyEvent;\n}(AudioSourceEvent));\nexports.AudioSourceReadyEvent = AudioSourceReadyEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioSourceOffEvent = /** @class */ (function (_super) {\n    __extends(AudioSourceOffEvent, _super);\n    function AudioSourceOffEvent(audioSourceId) {\n        return _super.call(this, \"AudioSourceOffEvent\", audioSourceId) || this;\n    }\n    return AudioSourceOffEvent;\n}(AudioSourceEvent));\nexports.AudioSourceOffEvent = AudioSourceOffEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioSourceErrorEvent = /** @class */ (function (_super) {\n    __extends(AudioSourceErrorEvent, _super);\n    function AudioSourceErrorEvent(audioSourceId, error) {\n        var _this = _super.call(this, \"AudioSourceErrorEvent\", audioSourceId, PlatformEvent_1.EventType.Error) || this;\n        _this.error = error;\n        return _this;\n    }\n    Object.defineProperty(AudioSourceErrorEvent.prototype, \"Error\", {\n        get: function () {\n            return this.error;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AudioSourceErrorEvent;\n}(AudioSourceEvent));\nexports.AudioSourceErrorEvent = AudioSourceErrorEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioStreamNodeEvent = /** @class */ (function (_super) {\n    __extends(AudioStreamNodeEvent, _super);\n    function AudioStreamNodeEvent(eventName, audioSourceId, audioNodeId) {\n        var _this = _super.call(this, eventName, audioSourceId) || this;\n        _this.audioNodeId = audioNodeId;\n        return _this;\n    }\n    Object.defineProperty(AudioStreamNodeEvent.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AudioStreamNodeEvent;\n}(AudioSourceEvent));\nexports.AudioStreamNodeEvent = AudioStreamNodeEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioStreamNodeAttachingEvent = /** @class */ (function (_super) {\n    __extends(AudioStreamNodeAttachingEvent, _super);\n    function AudioStreamNodeAttachingEvent(audioSourceId, audioNodeId) {\n        return _super.call(this, \"AudioStreamNodeAttachingEvent\", audioSourceId, audioNodeId) || this;\n    }\n    return AudioStreamNodeAttachingEvent;\n}(AudioStreamNodeEvent));\nexports.AudioStreamNodeAttachingEvent = AudioStreamNodeAttachingEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioStreamNodeAttachedEvent = /** @class */ (function (_super) {\n    __extends(AudioStreamNodeAttachedEvent, _super);\n    function AudioStreamNodeAttachedEvent(audioSourceId, audioNodeId) {\n        return _super.call(this, \"AudioStreamNodeAttachedEvent\", audioSourceId, audioNodeId) || this;\n    }\n    return AudioStreamNodeAttachedEvent;\n}(AudioStreamNodeEvent));\nexports.AudioStreamNodeAttachedEvent = AudioStreamNodeAttachedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioStreamNodeDetachedEvent = /** @class */ (function (_super) {\n    __extends(AudioStreamNodeDetachedEvent, _super);\n    function AudioStreamNodeDetachedEvent(audioSourceId, audioNodeId) {\n        return _super.call(this, \"AudioStreamNodeDetachedEvent\", audioSourceId, audioNodeId) || this;\n    }\n    return AudioStreamNodeDetachedEvent;\n}(AudioStreamNodeEvent));\nexports.AudioStreamNodeDetachedEvent = AudioStreamNodeDetachedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioStreamNodeErrorEvent = /** @class */ (function (_super) {\n    __extends(AudioStreamNodeErrorEvent, _super);\n    function AudioStreamNodeErrorEvent(audioSourceId, audioNodeId, error) {\n        var _this = _super.call(this, \"AudioStreamNodeErrorEvent\", audioSourceId, audioNodeId) || this;\n        _this.error = error;\n        return _this;\n    }\n    Object.defineProperty(AudioStreamNodeErrorEvent.prototype, \"Error\", {\n        get: function () {\n            return this.error;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AudioStreamNodeErrorEvent;\n}(AudioStreamNodeEvent));\nexports.AudioStreamNodeErrorEvent = AudioStreamNodeErrorEvent;\n\n//# sourceMappingURL=AudioSourceEvents.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PlatformEvent_1 = require(\"./PlatformEvent\");\nvar ConnectionEvent = /** @class */ (function (_super) {\n    __extends(ConnectionEvent, _super);\n    function ConnectionEvent(eventName, connectionId, eventType) {\n        if (eventType === void 0) { eventType = PlatformEvent_1.EventType.Info; }\n        var _this = _super.call(this, eventName, eventType) || this;\n        _this.connectionId = connectionId;\n        return _this;\n    }\n    Object.defineProperty(ConnectionEvent.prototype, \"ConnectionId\", {\n        get: function () {\n            return this.connectionId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionEvent;\n}(PlatformEvent_1.PlatformEvent));\nexports.ConnectionEvent = ConnectionEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionStartEvent = /** @class */ (function (_super) {\n    __extends(ConnectionStartEvent, _super);\n    function ConnectionStartEvent(connectionId, uri, headers) {\n        var _this = _super.call(this, \"ConnectionStartEvent\", connectionId) || this;\n        _this.uri = uri;\n        _this.headers = headers;\n        return _this;\n    }\n    Object.defineProperty(ConnectionStartEvent.prototype, \"Uri\", {\n        get: function () {\n            return this.uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionStartEvent.prototype, \"Headers\", {\n        get: function () {\n            return this.headers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionStartEvent;\n}(ConnectionEvent));\nexports.ConnectionStartEvent = ConnectionStartEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionEstablishedEvent = /** @class */ (function (_super) {\n    __extends(ConnectionEstablishedEvent, _super);\n    function ConnectionEstablishedEvent(connectionId, metadata) {\n        return _super.call(this, \"ConnectionEstablishedEvent\", connectionId) || this;\n    }\n    return ConnectionEstablishedEvent;\n}(ConnectionEvent));\nexports.ConnectionEstablishedEvent = ConnectionEstablishedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionClosedEvent = /** @class */ (function (_super) {\n    __extends(ConnectionClosedEvent, _super);\n    function ConnectionClosedEvent(connectionId, statusCode, reason) {\n        var _this = _super.call(this, \"ConnectionClosedEvent\", connectionId, PlatformEvent_1.EventType.Warning) || this;\n        _this.reason = reason;\n        _this.statusCode = statusCode;\n        return _this;\n    }\n    Object.defineProperty(ConnectionClosedEvent.prototype, \"Reason\", {\n        get: function () {\n            return this.reason;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionClosedEvent.prototype, \"StatusCode\", {\n        get: function () {\n            return this.statusCode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionClosedEvent;\n}(ConnectionEvent));\nexports.ConnectionClosedEvent = ConnectionClosedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionEstablishErrorEvent = /** @class */ (function (_super) {\n    __extends(ConnectionEstablishErrorEvent, _super);\n    function ConnectionEstablishErrorEvent(connectionId, statuscode, reason) {\n        var _this = _super.call(this, \"ConnectionEstablishErrorEvent\", connectionId, PlatformEvent_1.EventType.Error) || this;\n        _this.statusCode = statuscode;\n        _this.reason = reason;\n        return _this;\n    }\n    Object.defineProperty(ConnectionEstablishErrorEvent.prototype, \"Reason\", {\n        get: function () {\n            return this.reason;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionEstablishErrorEvent.prototype, \"StatusCode\", {\n        get: function () {\n            return this.statusCode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionEstablishErrorEvent;\n}(ConnectionEvent));\nexports.ConnectionEstablishErrorEvent = ConnectionEstablishErrorEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionMessageReceivedEvent = /** @class */ (function (_super) {\n    __extends(ConnectionMessageReceivedEvent, _super);\n    function ConnectionMessageReceivedEvent(connectionId, networkReceivedTimeISO, message) {\n        var _this = _super.call(this, \"ConnectionMessageReceivedEvent\", connectionId) || this;\n        _this.networkReceivedTime = networkReceivedTimeISO;\n        _this.message = message;\n        return _this;\n    }\n    Object.defineProperty(ConnectionMessageReceivedEvent.prototype, \"NetworkReceivedTime\", {\n        get: function () {\n            return this.networkReceivedTime;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessageReceivedEvent.prototype, \"Message\", {\n        get: function () {\n            return this.message;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionMessageReceivedEvent;\n}(ConnectionEvent));\nexports.ConnectionMessageReceivedEvent = ConnectionMessageReceivedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionMessageSentEvent = /** @class */ (function (_super) {\n    __extends(ConnectionMessageSentEvent, _super);\n    function ConnectionMessageSentEvent(connectionId, networkSentTimeISO, message) {\n        var _this = _super.call(this, \"ConnectionMessageSentEvent\", connectionId) || this;\n        _this.networkSentTime = networkSentTimeISO;\n        _this.message = message;\n        return _this;\n    }\n    Object.defineProperty(ConnectionMessageSentEvent.prototype, \"NetworkSentTime\", {\n        get: function () {\n            return this.networkSentTime;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessageSentEvent.prototype, \"Message\", {\n        get: function () {\n            return this.message;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionMessageSentEvent;\n}(ConnectionEvent));\nexports.ConnectionMessageSentEvent = ConnectionMessageSentEvent;\n\n//# sourceMappingURL=ConnectionEvents.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = require(\"./Error\");\nvar Guid_1 = require(\"./Guid\");\nvar MessageType;\n(function (MessageType) {\n    MessageType[MessageType[\"Text\"] = 0] = \"Text\";\n    MessageType[MessageType[\"Binary\"] = 1] = \"Binary\";\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\nvar ConnectionMessage = /** @class */ (function () {\n    function ConnectionMessage(messageType, body, headers, id) {\n        this.body = null;\n        if (messageType === MessageType.Text && body && !(typeof (body) === \"string\")) {\n            throw new Error_1.InvalidOperationError(\"Payload must be a string\");\n        }\n        if (messageType === MessageType.Binary && body && !(body instanceof ArrayBuffer)) {\n            throw new Error_1.InvalidOperationError(\"Payload must be ArrayBuffer\");\n        }\n        this.messageType = messageType;\n        this.body = body;\n        this.headers = headers ? headers : {};\n        this.id = id ? id : Guid_1.CreateNoDashGuid();\n    }\n    Object.defineProperty(ConnectionMessage.prototype, \"MessageType\", {\n        get: function () {\n            return this.messageType;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessage.prototype, \"Headers\", {\n        get: function () {\n            return this.headers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessage.prototype, \"Body\", {\n        get: function () {\n            return this.body;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessage.prototype, \"TextBody\", {\n        get: function () {\n            if (this.messageType === MessageType.Binary) {\n                throw new Error_1.InvalidOperationError(\"Not supported for binary message\");\n            }\n            return this.body;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessage.prototype, \"BinaryBody\", {\n        get: function () {\n            if (this.messageType === MessageType.Text) {\n                throw new Error_1.InvalidOperationError(\"Not supported for text message\");\n            }\n            return this.body;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessage.prototype, \"Id\", {\n        get: function () {\n            return this.id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionMessage;\n}());\nexports.ConnectionMessage = ConnectionMessage;\n\n//# sourceMappingURL=ConnectionMessage.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConnectionOpenResponse = /** @class */ (function () {\n    function ConnectionOpenResponse(statusCode, reason) {\n        this.statusCode = statusCode;\n        this.reason = reason;\n    }\n    Object.defineProperty(ConnectionOpenResponse.prototype, \"StatusCode\", {\n        get: function () {\n            return this.statusCode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionOpenResponse.prototype, \"Reason\", {\n        get: function () {\n            return this.reason;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionOpenResponse;\n}());\nexports.ConnectionOpenResponse = ConnectionOpenResponse;\n\n//# sourceMappingURL=ConnectionOpenResponse.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The error that is thrown when an argument passed in is null.\n *\n * @export\n * @class ArgumentNullError\n * @extends {Error}\n */\nvar ArgumentNullError = /** @class */ (function (_super) {\n    __extends(ArgumentNullError, _super);\n    /**\n     * Creates an instance of ArgumentNullError.\n     *\n     * @param {string} argumentName Name of the argument that is null\n     *\n     * @memberOf ArgumentNullError\n     */\n    function ArgumentNullError(argumentName) {\n        var _this = _super.call(this, argumentName) || this;\n        _this.name = \"ArgumentNull\";\n        _this.message = argumentName;\n        return _this;\n    }\n    return ArgumentNullError;\n}(Error));\nexports.ArgumentNullError = ArgumentNullError;\n/**\n * The error that is thrown when an invalid operation is performed in the code.\n *\n * @export\n * @class InvalidOperationError\n * @extends {Error}\n */\n// tslint:disable-next-line:max-classes-per-file\nvar InvalidOperationError = /** @class */ (function (_super) {\n    __extends(InvalidOperationError, _super);\n    /**\n     * Creates an instance of InvalidOperationError.\n     *\n     * @param {string} error The error\n     *\n     * @memberOf InvalidOperationError\n     */\n    function InvalidOperationError(error) {\n        var _this = _super.call(this, error) || this;\n        _this.name = \"InvalidOperation\";\n        _this.message = error;\n        return _this;\n    }\n    return InvalidOperationError;\n}(Error));\nexports.InvalidOperationError = InvalidOperationError;\n/**\n * The error that is thrown when an object is disposed.\n *\n * @export\n * @class ObjectDisposedError\n * @extends {Error}\n */\n// tslint:disable-next-line:max-classes-per-file\nvar ObjectDisposedError = /** @class */ (function (_super) {\n    __extends(ObjectDisposedError, _super);\n    /**\n     * Creates an instance of ObjectDisposedError.\n     *\n     * @param {string} objectName The object that is disposed\n     * @param {string} error The error\n     *\n     * @memberOf ObjectDisposedError\n     */\n    function ObjectDisposedError(objectName, error) {\n        var _this = _super.call(this, error) || this;\n        _this.name = objectName + \"ObjectDisposed\";\n        _this.message = error;\n        return _this;\n    }\n    return ObjectDisposedError;\n}(Error));\nexports.ObjectDisposedError = ObjectDisposedError;\n\n//# sourceMappingURL=Error.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = require(\"./Error\");\nvar Guid_1 = require(\"./Guid\");\nvar EventSource = /** @class */ (function () {\n    function EventSource(metadata) {\n        var _this = this;\n        this.eventListeners = {};\n        this.isDisposed = false;\n        this.OnEvent = function (event) {\n            if (_this.IsDisposed()) {\n                throw (new Error_1.ObjectDisposedError(\"EventSource\"));\n            }\n            if (_this.Metadata) {\n                for (var paramName in _this.Metadata) {\n                    if (paramName) {\n                        if (event.Metadata) {\n                            if (!event.Metadata[paramName]) {\n                                event.Metadata[paramName] = _this.Metadata[paramName];\n                            }\n                        }\n                    }\n                }\n            }\n            for (var eventId in _this.eventListeners) {\n                if (eventId && _this.eventListeners[eventId]) {\n                    _this.eventListeners[eventId](event);\n                }\n            }\n        };\n        this.Attach = function (onEventCallback) {\n            var id = Guid_1.CreateNoDashGuid();\n            _this.eventListeners[id] = onEventCallback;\n            return {\n                Detach: function () {\n                    delete _this.eventListeners[id];\n                },\n            };\n        };\n        this.AttachListener = function (listener) {\n            return _this.Attach(listener.OnEvent);\n        };\n        this.IsDisposed = function () {\n            return _this.isDisposed;\n        };\n        this.Dispose = function () {\n            _this.eventListeners = null;\n            _this.isDisposed = true;\n        };\n        this.metadata = metadata;\n    }\n    Object.defineProperty(EventSource.prototype, \"Metadata\", {\n        get: function () {\n            return this.metadata;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventSource;\n}());\nexports.EventSource = EventSource;\n\n//# sourceMappingURL=EventSource.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = require(\"./Error\");\nvar EventSource_1 = require(\"./EventSource\");\nvar Events = /** @class */ (function () {\n    function Events() {\n    }\n    Object.defineProperty(Events, \"Instance\", {\n        get: function () {\n            return Events.instance;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Events.instance = new EventSource_1.EventSource();\n    Events.SetEventSource = function (eventSource) {\n        if (!eventSource) {\n            throw new Error_1.ArgumentNullError(\"eventSource\");\n        }\n        Events.instance = eventSource;\n    };\n    return Events;\n}());\nexports.Events = Events;\n\n//# sourceMappingURL=Events.js.map\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./AudioSourceEvents\"));\n__export(require(\"./ConnectionEvents\"));\n__export(require(\"./ConnectionMessage\"));\n__export(require(\"./ConnectionOpenResponse\"));\n__export(require(\"./Error\"));\n__export(require(\"./Events\"));\n__export(require(\"./EventSource\"));\n__export(require(\"./Guid\"));\n__export(require(\"./IConnection\"));\n__export(require(\"./InMemoryStorage\"));\n__export(require(\"./List\"));\n__export(require(\"./PlatformEvent\"));\n__export(require(\"./Promise\"));\n__export(require(\"./Queue\"));\n__export(require(\"./RawWebsocketMessage\"));\n__export(require(\"./RiffPcmEncoder\"));\n__export(require(\"./Storage\"));\n__export(require(\"./Stream\"));\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CreateGuid = function () {\n    var d = new Date().getTime();\n    var guid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return guid;\n};\nexports.CreateGuid = CreateGuid;\nvar CreateNoDashGuid = function () {\n    return CreateGuid().replace(new RegExp(\"-\", \"g\"), \"\").toUpperCase();\n};\nexports.CreateNoDashGuid = CreateNoDashGuid;\n\n//# sourceMappingURL=Guid.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"None\"] = 0] = \"None\";\n    ConnectionState[ConnectionState[\"Connected\"] = 1] = \"Connected\";\n    ConnectionState[ConnectionState[\"Connecting\"] = 2] = \"Connecting\";\n    ConnectionState[ConnectionState[\"Disconnected\"] = 3] = \"Disconnected\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n\n//# sourceMappingURL=IConnection.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = require(\"./Error\");\nvar InMemoryStorage = /** @class */ (function () {\n    function InMemoryStorage() {\n        var _this = this;\n        this.store = {};\n        this.Get = function (key) {\n            if (!key) {\n                throw new Error_1.ArgumentNullError(\"key\");\n            }\n            return _this.store[key];\n        };\n        this.GetOrAdd = function (key, valueToAdd) {\n            if (!key) {\n                throw new Error_1.ArgumentNullError(\"key\");\n            }\n            if (_this.store[key] === undefined) {\n                _this.store[key] = valueToAdd;\n            }\n            return _this.store[key];\n        };\n        this.Set = function (key, value) {\n            if (!key) {\n                throw new Error_1.ArgumentNullError(\"key\");\n            }\n            _this.store[key] = value;\n        };\n        this.Remove = function (key) {\n            if (!key) {\n                throw new Error_1.ArgumentNullError(\"key\");\n            }\n            if (_this.store[key] !== undefined) {\n                delete _this.store[key];\n            }\n        };\n    }\n    return InMemoryStorage;\n}());\nexports.InMemoryStorage = InMemoryStorage;\n\n//# sourceMappingURL=InMemoryStorage.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = require(\"./Error\");\nvar List = /** @class */ (function () {\n    function List(list) {\n        var _this = this;\n        this.subscriptionIdCounter = 0;\n        this.addSubscriptions = {};\n        this.removeSubscriptions = {};\n        this.disposedSubscriptions = {};\n        this.disposeReason = null;\n        this.Get = function (itemIndex) {\n            _this.ThrowIfDisposed();\n            return _this.list[itemIndex];\n        };\n        this.First = function () {\n            return _this.Get(0);\n        };\n        this.Last = function () {\n            return _this.Get(_this.Length() - 1);\n        };\n        this.Add = function (item) {\n            _this.ThrowIfDisposed();\n            _this.InsertAt(_this.list.length, item);\n        };\n        this.InsertAt = function (index, item) {\n            _this.ThrowIfDisposed();\n            if (index === 0) {\n                _this.list.unshift(item);\n            }\n            else if (index === _this.list.length) {\n                _this.list.push(item);\n            }\n            else {\n                _this.list.splice(index, 0, item);\n            }\n            _this.TriggerSubscriptions(_this.addSubscriptions);\n        };\n        this.RemoveFirst = function () {\n            _this.ThrowIfDisposed();\n            return _this.RemoveAt(0);\n        };\n        this.RemoveLast = function () {\n            _this.ThrowIfDisposed();\n            return _this.RemoveAt(_this.Length() - 1);\n        };\n        this.RemoveAt = function (index) {\n            _this.ThrowIfDisposed();\n            return _this.Remove(index, 1)[0];\n        };\n        this.Remove = function (index, count) {\n            _this.ThrowIfDisposed();\n            var removedElements = _this.list.splice(index, count);\n            _this.TriggerSubscriptions(_this.removeSubscriptions);\n            return removedElements;\n        };\n        this.Clear = function () {\n            _this.ThrowIfDisposed();\n            _this.Remove(0, _this.Length());\n        };\n        this.Length = function () {\n            _this.ThrowIfDisposed();\n            return _this.list.length;\n        };\n        this.OnAdded = function (addedCallback) {\n            _this.ThrowIfDisposed();\n            var subscriptionId = _this.subscriptionIdCounter++;\n            _this.addSubscriptions[subscriptionId] = addedCallback;\n            return {\n                Detach: function () {\n                    delete _this.addSubscriptions[subscriptionId];\n                },\n            };\n        };\n        this.OnRemoved = function (removedCallback) {\n            _this.ThrowIfDisposed();\n            var subscriptionId = _this.subscriptionIdCounter++;\n            _this.removeSubscriptions[subscriptionId] = removedCallback;\n            return {\n                Detach: function () {\n                    delete _this.removeSubscriptions[subscriptionId];\n                },\n            };\n        };\n        this.OnDisposed = function (disposedCallback) {\n            _this.ThrowIfDisposed();\n            var subscriptionId = _this.subscriptionIdCounter++;\n            _this.disposedSubscriptions[subscriptionId] = disposedCallback;\n            return {\n                Detach: function () {\n                    delete _this.disposedSubscriptions[subscriptionId];\n                },\n            };\n        };\n        this.Join = function (seperator) {\n            _this.ThrowIfDisposed();\n            return _this.list.join(seperator);\n        };\n        this.ToArray = function () {\n            var cloneCopy = Array();\n            _this.list.forEach(function (val) {\n                cloneCopy.push(val);\n            });\n            return cloneCopy;\n        };\n        this.Any = function (callback) {\n            _this.ThrowIfDisposed();\n            if (callback) {\n                return _this.Where(callback).Length() > 0;\n            }\n            else {\n                return _this.Length() > 0;\n            }\n        };\n        this.All = function (callback) {\n            _this.ThrowIfDisposed();\n            return _this.Where(callback).Length() === _this.Length();\n        };\n        this.ForEach = function (callback) {\n            _this.ThrowIfDisposed();\n            for (var i = 0; i < _this.Length(); i++) {\n                callback(_this.list[i], i);\n            }\n        };\n        this.Select = function (callback) {\n            _this.ThrowIfDisposed();\n            var selectList = [];\n            for (var i = 0; i < _this.list.length; i++) {\n                selectList.push(callback(_this.list[i], i));\n            }\n            return new List(selectList);\n        };\n        this.Where = function (callback) {\n            _this.ThrowIfDisposed();\n            var filteredList = new List();\n            for (var i = 0; i < _this.list.length; i++) {\n                if (callback(_this.list[i], i)) {\n                    filteredList.Add(_this.list[i]);\n                }\n            }\n            return filteredList;\n        };\n        this.OrderBy = function (compareFn) {\n            _this.ThrowIfDisposed();\n            var clonedArray = _this.ToArray();\n            var orderedArray = clonedArray.sort(compareFn);\n            return new List(orderedArray);\n        };\n        this.OrderByDesc = function (compareFn) {\n            _this.ThrowIfDisposed();\n            return _this.OrderBy(function (a, b) { return compareFn(b, a); });\n        };\n        this.Clone = function () {\n            _this.ThrowIfDisposed();\n            return new List(_this.ToArray());\n        };\n        this.Concat = function (list) {\n            _this.ThrowIfDisposed();\n            return new List(_this.list.concat(list.ToArray()));\n        };\n        this.ConcatArray = function (array) {\n            _this.ThrowIfDisposed();\n            return new List(_this.list.concat(array));\n        };\n        this.IsDisposed = function () {\n            return _this.list == null;\n        };\n        this.Dispose = function (reason) {\n            if (!_this.IsDisposed()) {\n                _this.disposeReason = reason;\n                _this.list = null;\n                _this.addSubscriptions = null;\n                _this.removeSubscriptions = null;\n                _this.TriggerSubscriptions(_this.disposedSubscriptions);\n            }\n        };\n        this.ThrowIfDisposed = function () {\n            if (_this.IsDisposed()) {\n                throw new Error_1.ObjectDisposedError(\"List\", _this.disposeReason);\n            }\n        };\n        this.TriggerSubscriptions = function (subscriptions) {\n            if (subscriptions) {\n                for (var subscriptionId in subscriptions) {\n                    if (subscriptionId) {\n                        subscriptions[subscriptionId]();\n                    }\n                }\n            }\n        };\n        this.list = [];\n        // copy the list rather than taking as is.\n        if (list) {\n            for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\n                var item = list_1[_i];\n                this.list.push(item);\n            }\n        }\n    }\n    return List;\n}());\nexports.List = List;\n\n//# sourceMappingURL=List.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Guid_1 = require(\"./Guid\");\nvar EventType;\n(function (EventType) {\n    EventType[EventType[\"Debug\"] = 0] = \"Debug\";\n    EventType[EventType[\"Info\"] = 1] = \"Info\";\n    EventType[EventType[\"Warning\"] = 2] = \"Warning\";\n    EventType[EventType[\"Error\"] = 3] = \"Error\";\n})(EventType = exports.EventType || (exports.EventType = {}));\nvar PlatformEvent = /** @class */ (function () {\n    function PlatformEvent(eventName, eventType) {\n        this.name = eventName;\n        this.eventId = Guid_1.CreateNoDashGuid();\n        this.eventTime = new Date().toISOString();\n        this.eventType = eventType;\n        this.metadata = {};\n    }\n    Object.defineProperty(PlatformEvent.prototype, \"Name\", {\n        get: function () {\n            return this.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PlatformEvent.prototype, \"EventId\", {\n        get: function () {\n            return this.eventId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PlatformEvent.prototype, \"EventTime\", {\n        get: function () {\n            return this.eventTime;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PlatformEvent.prototype, \"EventType\", {\n        get: function () {\n            return this.eventType;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PlatformEvent.prototype, \"Metadata\", {\n        get: function () {\n            return this.metadata;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PlatformEvent;\n}());\nexports.PlatformEvent = PlatformEvent;\n\n//# sourceMappingURL=PlatformEvent.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = require(\"./Error\");\nvar PromiseState;\n(function (PromiseState) {\n    PromiseState[PromiseState[\"None\"] = 0] = \"None\";\n    PromiseState[PromiseState[\"Resolved\"] = 1] = \"Resolved\";\n    PromiseState[PromiseState[\"Rejected\"] = 2] = \"Rejected\";\n})(PromiseState = exports.PromiseState || (exports.PromiseState = {}));\nvar PromiseResult = /** @class */ (function () {\n    function PromiseResult(promiseResultEventSource) {\n        var _this = this;\n        this.ThrowIfError = function () {\n            if (_this.IsError) {\n                throw _this.Error;\n            }\n        };\n        promiseResultEventSource.On(function (result) {\n            if (!_this.isCompleted) {\n                _this.isCompleted = true;\n                _this.isError = false;\n                _this.result = result;\n            }\n        }, function (error) {\n            if (!_this.isCompleted) {\n                _this.isCompleted = true;\n                _this.isError = true;\n                _this.error = error;\n            }\n        });\n    }\n    Object.defineProperty(PromiseResult.prototype, \"IsCompleted\", {\n        get: function () {\n            return this.isCompleted;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PromiseResult.prototype, \"IsError\", {\n        get: function () {\n            return this.isError;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PromiseResult.prototype, \"Error\", {\n        get: function () {\n            return this.error;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PromiseResult.prototype, \"Result\", {\n        get: function () {\n            return this.result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PromiseResult;\n}());\nexports.PromiseResult = PromiseResult;\n// tslint:disable-next-line:max-classes-per-file\nvar PromiseResultEventSource = /** @class */ (function () {\n    function PromiseResultEventSource() {\n        var _this = this;\n        this.SetResult = function (result) {\n            _this.onSetResult(result);\n        };\n        this.SetError = function (error) {\n            _this.onSetError(error);\n        };\n        this.On = function (onSetResult, onSetError) {\n            _this.onSetResult = onSetResult;\n            _this.onSetError = onSetError;\n        };\n    }\n    return PromiseResultEventSource;\n}());\nexports.PromiseResultEventSource = PromiseResultEventSource;\n// tslint:disable-next-line:max-classes-per-file\nvar PromiseHelper = /** @class */ (function () {\n    function PromiseHelper() {\n    }\n    PromiseHelper.WhenAll = function (promises) {\n        if (!promises || promises.length === 0) {\n            throw new Error_1.ArgumentNullError(\"promises\");\n        }\n        var deferred = new Deferred();\n        var errors = [];\n        var completedPromises = 0;\n        var checkForCompletion = function () {\n            completedPromises++;\n            if (completedPromises === promises.length) {\n                if (errors.length === 0) {\n                    deferred.Resolve(true);\n                }\n                else {\n                    deferred.Reject(errors.join(\", \"));\n                }\n            }\n        };\n        for (var _i = 0, promises_1 = promises; _i < promises_1.length; _i++) {\n            var promise = promises_1[_i];\n            promise.On(function (r) {\n                checkForCompletion();\n            }, function (e) {\n                errors.push(e);\n                checkForCompletion();\n            });\n        }\n        return deferred.Promise();\n    };\n    PromiseHelper.FromResult = function (result) {\n        var deferred = new Deferred();\n        deferred.Resolve(result);\n        return deferred.Promise();\n    };\n    PromiseHelper.FromError = function (error) {\n        var deferred = new Deferred();\n        deferred.Reject(error);\n        return deferred.Promise();\n    };\n    return PromiseHelper;\n}());\nexports.PromiseHelper = PromiseHelper;\n// TODO: replace with ES6 promises\n// tslint:disable-next-line:max-classes-per-file\nvar Promise = /** @class */ (function () {\n    function Promise(sink) {\n        var _this = this;\n        this.Result = function () {\n            return _this.sink.Result;\n        };\n        this.ContinueWith = function (continuationCallback) {\n            if (!continuationCallback) {\n                throw new Error_1.ArgumentNullError(\"continuationCallback\");\n            }\n            var continuationDeferral = new Deferred();\n            _this.sink.on(function (r) {\n                try {\n                    var continuationResult = continuationCallback(_this.sink.Result);\n                    continuationDeferral.Resolve(continuationResult);\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \"'\");\n                }\n            }, function (error) {\n                try {\n                    var continuationResult = continuationCallback(_this.sink.Result);\n                    continuationDeferral.Resolve(continuationResult);\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \". InnerError: \" + error + \"'\");\n                }\n            });\n            return continuationDeferral.Promise();\n        };\n        this.OnSuccessContinueWith = function (continuationCallback) {\n            if (!continuationCallback) {\n                throw new Error_1.ArgumentNullError(\"continuationCallback\");\n            }\n            var continuationDeferral = new Deferred();\n            _this.sink.on(function (r) {\n                try {\n                    var continuationResult = continuationCallback(r);\n                    continuationDeferral.Resolve(continuationResult);\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \"'\");\n                }\n            }, function (error) {\n                continuationDeferral.Reject(\"'Unhandled callback error: \" + error + \"'\");\n            });\n            return continuationDeferral.Promise();\n        };\n        this.ContinueWithPromise = function (continuationCallback) {\n            if (!continuationCallback) {\n                throw new Error_1.ArgumentNullError(\"continuationCallback\");\n            }\n            var continuationDeferral = new Deferred();\n            _this.sink.on(function (r) {\n                try {\n                    var continuationPromise = continuationCallback(_this.sink.Result);\n                    if (!continuationPromise) {\n                        throw new Error(\"'Continuation callback did not return promise'\");\n                    }\n                    continuationPromise.On(function (continuationResult) {\n                        continuationDeferral.Resolve(continuationResult);\n                    }, function (e) {\n                        continuationDeferral.Reject(e);\n                    });\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \"'\");\n                }\n            }, function (error) {\n                try {\n                    var continuationPromise = continuationCallback(_this.sink.Result);\n                    if (!continuationPromise) {\n                        throw new Error(\"Continuation callback did not return promise\");\n                    }\n                    continuationPromise.On(function (continuationResult) {\n                        continuationDeferral.Resolve(continuationResult);\n                    }, function (e) {\n                        continuationDeferral.Reject(e);\n                    });\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \". InnerError: \" + error + \"'\");\n                }\n            });\n            return continuationDeferral.Promise();\n        };\n        this.OnSuccessContinueWithPromise = function (continuationCallback) {\n            if (!continuationCallback) {\n                throw new Error_1.ArgumentNullError(\"continuationCallback\");\n            }\n            var continuationDeferral = new Deferred();\n            _this.sink.on(function (r) {\n                try {\n                    var continuationPromise = continuationCallback(r);\n                    if (!continuationPromise) {\n                        throw new Error(\"Continuation callback did not return promise\");\n                    }\n                    continuationPromise.On(function (continuationResult) {\n                        continuationDeferral.Resolve(continuationResult);\n                    }, function (e) {\n                        continuationDeferral.Reject(e);\n                    });\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \"'\");\n                }\n            }, function (error) {\n                continuationDeferral.Reject(\"'Unhandled callback error: \" + error + \".'\");\n            });\n            return continuationDeferral.Promise();\n        };\n        this.On = function (successCallback, errorCallback) {\n            if (!successCallback) {\n                throw new Error_1.ArgumentNullError(\"successCallback\");\n            }\n            if (!errorCallback) {\n                throw new Error_1.ArgumentNullError(\"errorCallback\");\n            }\n            _this.sink.on(successCallback, errorCallback);\n            return _this;\n        };\n        this.Finally = function (callback) {\n            if (!callback) {\n                throw new Error_1.ArgumentNullError(\"callback\");\n            }\n            var callbackWrapper = function (_) {\n                callback();\n            };\n            return _this.On(callbackWrapper, callbackWrapper);\n        };\n        this.sink = sink;\n    }\n    return Promise;\n}());\nexports.Promise = Promise;\n// tslint:disable-next-line:max-classes-per-file\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        this.State = function () {\n            return _this.sink.State;\n        };\n        this.Promise = function () {\n            return _this.promise;\n        };\n        this.Resolve = function (result) {\n            _this.sink.Resolve(result);\n            return _this;\n        };\n        this.Reject = function (error) {\n            _this.sink.Reject(error);\n            return _this;\n        };\n        this.sink = new Sink();\n        this.promise = new Promise(this.sink);\n    }\n    return Deferred;\n}());\nexports.Deferred = Deferred;\n// tslint:disable-next-line:max-classes-per-file\nvar Sink = /** @class */ (function () {\n    function Sink() {\n        var _this = this;\n        this.state = PromiseState.None;\n        this.promiseResult = null;\n        this.promiseResultEvents = null;\n        this.successHandlers = [];\n        this.errorHandlers = [];\n        this.Resolve = function (result) {\n            if (_this.state !== PromiseState.None) {\n                throw new Error(\"'Cannot resolve a completed promise'\");\n            }\n            _this.state = PromiseState.Resolved;\n            _this.promiseResultEvents.SetResult(result);\n            for (var i = 0; i < _this.successHandlers.length; i++) {\n                _this.ExecuteSuccessCallback(result, _this.successHandlers[i], _this.errorHandlers[i]);\n            }\n            _this.DetachHandlers();\n        };\n        this.Reject = function (error) {\n            if (_this.state !== PromiseState.None) {\n                throw new Error(\"'Cannot reject a completed promise'\");\n            }\n            _this.state = PromiseState.Rejected;\n            _this.promiseResultEvents.SetError(error);\n            for (var _i = 0, _a = _this.errorHandlers; _i < _a.length; _i++) {\n                var errorHandler = _a[_i];\n                _this.ExecuteErrorCallback(error, errorHandler);\n            }\n            _this.DetachHandlers();\n        };\n        this.on = function (successCallback, errorCallback) {\n            if (successCallback == null) {\n                successCallback = function (r) { return; };\n            }\n            if (_this.state === PromiseState.None) {\n                _this.successHandlers.push(successCallback);\n                _this.errorHandlers.push(errorCallback);\n            }\n            else {\n                if (_this.state === PromiseState.Resolved) {\n                    _this.ExecuteSuccessCallback(_this.promiseResult.Result, successCallback, errorCallback);\n                }\n                else if (_this.state === PromiseState.Rejected) {\n                    _this.ExecuteErrorCallback(_this.promiseResult.Error, errorCallback);\n                }\n                _this.DetachHandlers();\n            }\n        };\n        this.ExecuteSuccessCallback = function (result, successCallback, errorCallback) {\n            try {\n                successCallback(result);\n            }\n            catch (e) {\n                _this.ExecuteErrorCallback(\"'Unhandled callback error: \" + e + \"'\", errorCallback);\n            }\n        };\n        this.ExecuteErrorCallback = function (error, errorCallback) {\n            if (errorCallback) {\n                try {\n                    errorCallback(error);\n                }\n                catch (e) {\n                    throw new Error(\"'Unhandled callback error: \" + e + \". InnerError: \" + error + \"'\");\n                }\n            }\n            else {\n                throw new Error(\"'Unhandled error: \" + error + \"'\");\n            }\n        };\n        this.DetachHandlers = function () {\n            _this.errorHandlers = [];\n            _this.successHandlers = [];\n        };\n        this.promiseResultEvents = new PromiseResultEventSource();\n        this.promiseResult = new PromiseResult(this.promiseResultEvents);\n    }\n    Object.defineProperty(Sink.prototype, \"State\", {\n        get: function () {\n            return this.state;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sink.prototype, \"Result\", {\n        get: function () {\n            return this.promiseResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Sink;\n}());\nexports.Sink = Sink;\n\n//# sourceMappingURL=Promise.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = require(\"./Error\");\nvar List_1 = require(\"./List\");\nvar Promise_1 = require(\"./Promise\");\nvar SubscriberType;\n(function (SubscriberType) {\n    SubscriberType[SubscriberType[\"Dequeue\"] = 0] = \"Dequeue\";\n    SubscriberType[SubscriberType[\"Peek\"] = 1] = \"Peek\";\n})(SubscriberType || (SubscriberType = {}));\nvar Queue = /** @class */ (function () {\n    function Queue(list) {\n        var _this = this;\n        this.promiseStore = new List_1.List();\n        this.isDrainInProgress = false;\n        this.isDisposing = false;\n        this.disposeReason = null;\n        this.Enqueue = function (item) {\n            _this.ThrowIfDispose();\n            _this.EnqueueFromPromise(Promise_1.PromiseHelper.FromResult(item));\n        };\n        this.EnqueueFromPromise = function (promise) {\n            _this.ThrowIfDispose();\n            _this.promiseStore.Add(promise);\n            promise.Finally(function () {\n                while (_this.promiseStore.Length() > 0) {\n                    if (!_this.promiseStore.First().Result().IsCompleted) {\n                        break;\n                    }\n                    else {\n                        var p = _this.promiseStore.RemoveFirst();\n                        if (!p.Result().IsError) {\n                            _this.list.Add(p.Result().Result);\n                        }\n                        else {\n                            // TODO: Log as warning.\n                        }\n                    }\n                }\n            });\n        };\n        this.Dequeue = function () {\n            _this.ThrowIfDispose();\n            var deferredSubscriber = new Promise_1.Deferred();\n            _this.subscribers.Add({ deferral: deferredSubscriber, type: SubscriberType.Dequeue });\n            _this.Drain();\n            return deferredSubscriber.Promise();\n        };\n        this.Peek = function () {\n            _this.ThrowIfDispose();\n            var deferredSubscriber = new Promise_1.Deferred();\n            _this.subscribers.Add({ deferral: deferredSubscriber, type: SubscriberType.Peek });\n            _this.Drain();\n            return deferredSubscriber.Promise();\n        };\n        this.Length = function () {\n            _this.ThrowIfDispose();\n            return _this.list.Length();\n        };\n        this.IsDisposed = function () {\n            return _this.subscribers == null;\n        };\n        this.DrainAndDispose = function (pendingItemProcessor, reason) {\n            if (!_this.IsDisposed() && !_this.isDisposing) {\n                _this.disposeReason = reason;\n                _this.isDisposing = true;\n                while (_this.subscribers.Length() > 0) {\n                    var subscriber = _this.subscribers.RemoveFirst();\n                    // TODO: this needs work (Resolve(null) instead?).\n                    subscriber.deferral.Reject(\"Disposed\");\n                }\n                for (var _i = 0, _a = _this.detachables; _i < _a.length; _i++) {\n                    var detachable = _a[_i];\n                    detachable.Detach();\n                }\n                if (_this.promiseStore.Length() > 0 && pendingItemProcessor) {\n                    return Promise_1.PromiseHelper\n                        .WhenAll(_this.promiseStore.ToArray())\n                        .ContinueWith(function () {\n                        _this.subscribers = null;\n                        _this.list.ForEach(function (item, index) {\n                            pendingItemProcessor(item);\n                        });\n                        _this.list = null;\n                        return true;\n                    });\n                }\n                else {\n                    _this.subscribers = null;\n                    _this.list = null;\n                }\n            }\n            return Promise_1.PromiseHelper.FromResult(true);\n        };\n        this.Dispose = function (reason) {\n            _this.DrainAndDispose(null, reason);\n        };\n        this.Drain = function () {\n            if (!_this.isDrainInProgress && !_this.isDisposing) {\n                _this.isDrainInProgress = true;\n                while (_this.list.Length() > 0 && _this.subscribers.Length() > 0 && !_this.isDisposing) {\n                    var subscriber = _this.subscribers.RemoveFirst();\n                    if (subscriber.type === SubscriberType.Peek) {\n                        subscriber.deferral.Resolve(_this.list.First());\n                    }\n                    else {\n                        var dequeuedItem = _this.list.RemoveFirst();\n                        subscriber.deferral.Resolve(dequeuedItem);\n                    }\n                }\n                _this.isDrainInProgress = false;\n            }\n        };\n        this.ThrowIfDispose = function () {\n            if (_this.IsDisposed()) {\n                if (_this.disposeReason) {\n                    throw new Error_1.InvalidOperationError(_this.disposeReason);\n                }\n                throw new Error_1.ObjectDisposedError(\"Queue\");\n            }\n            else if (_this.isDisposing) {\n                throw new Error_1.InvalidOperationError(\"Queue disposing\");\n            }\n        };\n        this.list = list ? list : new List_1.List();\n        this.detachables = [];\n        this.subscribers = new List_1.List();\n        this.detachables.push(this.list.OnAdded(this.Drain));\n    }\n    return Queue;\n}());\nexports.Queue = Queue;\n\n//# sourceMappingURL=Queue.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConnectionMessage_1 = require(\"./ConnectionMessage\");\nvar Error_1 = require(\"./Error\");\nvar Guid_1 = require(\"./Guid\");\nvar RawWebsocketMessage = /** @class */ (function () {\n    function RawWebsocketMessage(messageType, payload, id) {\n        this.payload = null;\n        if (!payload) {\n            throw new Error_1.ArgumentNullError(\"payload\");\n        }\n        if (messageType === ConnectionMessage_1.MessageType.Binary && !(payload instanceof ArrayBuffer)) {\n            throw new Error_1.InvalidOperationError(\"Payload must be ArrayBuffer\");\n        }\n        if (messageType === ConnectionMessage_1.MessageType.Text && !(typeof (payload) === \"string\")) {\n            throw new Error_1.InvalidOperationError(\"Payload must be a string\");\n        }\n        this.messageType = messageType;\n        this.payload = payload;\n        this.id = id ? id : Guid_1.CreateNoDashGuid();\n    }\n    Object.defineProperty(RawWebsocketMessage.prototype, \"MessageType\", {\n        get: function () {\n            return this.messageType;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RawWebsocketMessage.prototype, \"Payload\", {\n        get: function () {\n            return this.payload;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RawWebsocketMessage.prototype, \"TextContent\", {\n        get: function () {\n            if (this.messageType === ConnectionMessage_1.MessageType.Binary) {\n                throw new Error_1.InvalidOperationError(\"Not supported for binary message\");\n            }\n            return this.payload;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RawWebsocketMessage.prototype, \"BinaryContent\", {\n        get: function () {\n            if (this.messageType === ConnectionMessage_1.MessageType.Text) {\n                throw new Error_1.InvalidOperationError(\"Not supported for text message\");\n            }\n            return this.payload;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RawWebsocketMessage.prototype, \"Id\", {\n        get: function () {\n            return this.id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RawWebsocketMessage;\n}());\nexports.RawWebsocketMessage = RawWebsocketMessage;\n\n//# sourceMappingURL=RawWebsocketMessage.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RiffPcmEncoder = /** @class */ (function () {\n    function RiffPcmEncoder(actualSampleRate, desiredSampleRate) {\n        var _this = this;\n        this.channelCount = 1;\n        this.Encode = function (needHeader, actualAudioFrame) {\n            var audioFrame = _this.DownSampleAudioFrame(actualAudioFrame, _this.actualSampleRate, _this.desiredSampleRate);\n            if (!audioFrame) {\n                return null;\n            }\n            var audioLength = audioFrame.length * 2;\n            if (!needHeader) {\n                var buffer_1 = new ArrayBuffer(audioLength);\n                var view_1 = new DataView(buffer_1);\n                _this.FloatTo16BitPCM(view_1, 0, audioFrame);\n                return buffer_1;\n            }\n            var buffer = new ArrayBuffer(44 + audioLength);\n            var bitsPerSample = 16;\n            var bytesPerSample = bitsPerSample / 8;\n            // We dont know ahead of time about the length of audio to stream. So set to 0.\n            var fileLength = 0;\n            // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\n            var view = new DataView(buffer);\n            /* RIFF identifier */\n            _this.SetString(view, 0, \"RIFF\");\n            /* file length */\n            view.setUint32(4, fileLength, true);\n            /* RIFF type & Format */\n            _this.SetString(view, 8, \"WAVEfmt \");\n            /* format chunk length */\n            view.setUint32(16, 16, true);\n            /* sample format (raw) */\n            view.setUint16(20, 1, true);\n            /* channel count */\n            view.setUint16(22, _this.channelCount, true);\n            /* sample rate */\n            view.setUint32(24, _this.desiredSampleRate, true);\n            /* byte rate (sample rate * block align) */\n            view.setUint32(28, _this.desiredSampleRate * _this.channelCount * bytesPerSample, true);\n            /* block align (channel count * bytes per sample) */\n            view.setUint16(32, _this.channelCount * bytesPerSample, true);\n            /* bits per sample */\n            view.setUint16(34, bitsPerSample, true);\n            /* data chunk identifier */\n            _this.SetString(view, 36, \"data\");\n            /* data chunk length */\n            view.setUint32(40, fileLength, true);\n            _this.FloatTo16BitPCM(view, 44, audioFrame);\n            return buffer;\n        };\n        this.SetString = function (view, offset, str) {\n            for (var i = 0; i < str.length; i++) {\n                view.setUint8(offset + i, str.charCodeAt(i));\n            }\n        };\n        this.FloatTo16BitPCM = function (view, offset, input) {\n            for (var i = 0; i < input.length; i++, offset += 2) {\n                var s = Math.max(-1, Math.min(1, input[i]));\n                view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7FFF, true);\n            }\n        };\n        this.DownSampleAudioFrame = function (srcFrame, srcRate, dstRate) {\n            if (dstRate === srcRate || dstRate > srcRate) {\n                return srcFrame;\n            }\n            var ratio = srcRate / dstRate;\n            var dstLength = Math.round(srcFrame.length / ratio);\n            var dstFrame = new Float32Array(dstLength);\n            var srcOffset = 0;\n            var dstOffset = 0;\n            while (dstOffset < dstLength) {\n                var nextSrcOffset = Math.round((dstOffset + 1) * ratio);\n                var accum = 0;\n                var count = 0;\n                while (srcOffset < nextSrcOffset && srcOffset < srcFrame.length) {\n                    accum += srcFrame[srcOffset++];\n                    count++;\n                }\n                dstFrame[dstOffset++] = accum / count;\n            }\n            return dstFrame;\n        };\n        this.actualSampleRate = actualSampleRate;\n        this.desiredSampleRate = desiredSampleRate;\n    }\n    return RiffPcmEncoder;\n}());\nexports.RiffPcmEncoder = RiffPcmEncoder;\n\n//# sourceMappingURL=RiffPcmEncoder.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = require(\"./Error\");\nvar InMemoryStorage_1 = require(\"./InMemoryStorage\");\nvar Storage = /** @class */ (function () {\n    function Storage() {\n    }\n    Object.defineProperty(Storage, \"Session\", {\n        get: function () {\n            return Storage.sessionStorage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Storage, \"Local\", {\n        get: function () {\n            return Storage.localStorage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Storage.sessionStorage = new InMemoryStorage_1.InMemoryStorage();\n    Storage.localStorage = new InMemoryStorage_1.InMemoryStorage();\n    Storage.SetSessionStorage = function (sessionStorage) {\n        if (!sessionStorage) {\n            throw new Error_1.ArgumentNullError(\"sessionStorage\");\n        }\n        Storage.sessionStorage = sessionStorage;\n    };\n    Storage.SetLocalStorage = function (localStorage) {\n        if (!localStorage) {\n            throw new Error_1.ArgumentNullError(\"localStorage\");\n        }\n        Storage.localStorage = localStorage;\n    };\n    return Storage;\n}());\nexports.Storage = Storage;\n\n//# sourceMappingURL=Storage.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = require(\"./Error\");\nvar Guid_1 = require(\"./Guid\");\nvar Queue_1 = require(\"./Queue\");\nvar Stream = /** @class */ (function () {\n    function Stream(streamId) {\n        var _this = this;\n        this.readerIdCounter = 1;\n        this.isEnded = false;\n        this.Write = function (buffer) {\n            _this.ThrowIfClosed();\n            _this.WriteStreamChunk({\n                Buffer: buffer,\n                IsEnd: false,\n            });\n        };\n        this.GetReader = function () {\n            var readerId = _this.readerIdCounter;\n            _this.readerIdCounter++;\n            var readerQueue = new Queue_1.Queue();\n            var currentLength = _this.streambuffer.length;\n            _this.readerQueues[readerId] = readerQueue;\n            for (var i = 0; i < currentLength; i++) {\n                readerQueue.Enqueue(_this.streambuffer[i]);\n            }\n            return new StreamReader(_this.id, readerQueue, function () {\n                delete _this.readerQueues[readerId];\n            });\n        };\n        this.Close = function () {\n            if (!_this.isEnded) {\n                _this.WriteStreamChunk({\n                    Buffer: null,\n                    IsEnd: true,\n                });\n                _this.isEnded = true;\n            }\n        };\n        this.WriteStreamChunk = function (streamChunk) {\n            _this.ThrowIfClosed();\n            _this.streambuffer.push(streamChunk);\n            for (var readerId in _this.readerQueues) {\n                if (!_this.readerQueues[readerId].IsDisposed()) {\n                    try {\n                        _this.readerQueues[readerId].Enqueue(streamChunk);\n                    }\n                    catch (e) {\n                        // Do nothing\n                    }\n                }\n            }\n        };\n        this.ThrowIfClosed = function () {\n            if (_this.isEnded) {\n                throw new Error_1.InvalidOperationError(\"Stream closed\");\n            }\n        };\n        this.id = streamId ? streamId : Guid_1.CreateNoDashGuid();\n        this.streambuffer = [];\n        this.readerQueues = {};\n    }\n    Object.defineProperty(Stream.prototype, \"IsClosed\", {\n        get: function () {\n            return this.isEnded;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Stream.prototype, \"Id\", {\n        get: function () {\n            return this.id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Stream;\n}());\nexports.Stream = Stream;\n// tslint:disable-next-line:max-classes-per-file\nvar StreamReader = /** @class */ (function () {\n    function StreamReader(streamId, readerQueue, onClose) {\n        var _this = this;\n        this.isClosed = false;\n        this.Read = function () {\n            if (_this.IsClosed) {\n                throw new Error_1.InvalidOperationError(\"StreamReader closed\");\n            }\n            return _this.readerQueue\n                .Dequeue()\n                .OnSuccessContinueWith(function (streamChunk) {\n                if (streamChunk.IsEnd) {\n                    _this.readerQueue.Dispose(\"End of stream reached\");\n                }\n                return streamChunk;\n            });\n        };\n        this.Close = function () {\n            if (!_this.isClosed) {\n                _this.isClosed = true;\n                _this.readerQueue.Dispose(\"StreamReader closed\");\n                _this.onClose();\n            }\n        };\n        this.readerQueue = readerQueue;\n        this.onClose = onClose;\n        this.streamId = streamId;\n    }\n    Object.defineProperty(StreamReader.prototype, \"IsClosed\", {\n        get: function () {\n            return this.isClosed;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StreamReader.prototype, \"StreamId\", {\n        get: function () {\n            return this.streamId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StreamReader;\n}());\nexports.StreamReader = StreamReader;\n\n//# sourceMappingURL=Stream.js.map\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Recognizer\"));\n__export(require(\"./SpeechConnectionFactory\"));\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../../common.browser/Exports\");\nvar Exports_2 = require(\"../speech/Exports\");\nvar SpeechConnectionFactory_1 = require(\"./SpeechConnectionFactory\");\nvar CreateRecognizer = function (recognizerConfig, authentication) {\n    return CreateRecognizerWithPcmRecorder(recognizerConfig, authentication);\n};\nexports.CreateRecognizer = CreateRecognizer;\nvar CreateRecognizerWithPcmRecorder = function (recognizerConfig, authentication) {\n    return CreateRecognizerWithCustomAudioSource(recognizerConfig, authentication, new Exports_1.MicAudioSource(new Exports_1.PcmRecorder()));\n};\nexports.CreateRecognizerWithPcmRecorder = CreateRecognizerWithPcmRecorder;\nvar CreateRecognizerWithFileAudioSource = function (recognizerConfig, authentication, file) {\n    return CreateRecognizerWithCustomAudioSource(recognizerConfig, authentication, new Exports_1.FileAudioSource(file));\n};\nexports.CreateRecognizerWithFileAudioSource = CreateRecognizerWithFileAudioSource;\nvar CreateRecognizerWithCustomAudioSource = function (recognizerConfig, authentication, audioSource) {\n    return new Exports_2.Recognizer(authentication, new SpeechConnectionFactory_1.SpeechConnectionFactory(), audioSource, recognizerConfig);\n};\nexports.CreateRecognizerWithCustomAudioSource = CreateRecognizerWithCustomAudioSource;\n\n//# sourceMappingURL=Recognizer.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../../common.browser/Exports\");\nvar Exports_2 = require(\"../../common/Exports\");\nvar Exports_3 = require(\"../speech/Exports\");\nvar TestHooksParamName = \"testhooks\";\nvar ConnectionIdHeader = \"X-ConnectionId\";\nvar SpeechConnectionFactory = /** @class */ (function () {\n    function SpeechConnectionFactory() {\n        var _this = this;\n        this.Create = function (config, authInfo, connectionId) {\n            var endpoint = \"\";\n            switch (config.RecognitionMode) {\n                case Exports_3.RecognitionMode.Conversation:\n                    endpoint = _this.Host + _this.ConversationRelativeUri;\n                    break;\n                case Exports_3.RecognitionMode.Dictation:\n                    endpoint = _this.Host + _this.DictationRelativeUri;\n                    break;\n                default:\n                    endpoint = _this.Host + _this.InteractiveRelativeUri; // default is interactive\n                    break;\n            }\n            var queryParams = {\n                format: Exports_3.SpeechResultFormat[config.Format].toString().toLowerCase(),\n                language: config.Language,\n            };\n            if (_this.IsDebugModeEnabled) {\n                queryParams[TestHooksParamName] = \"1\";\n            }\n            var headers = {};\n            headers[authInfo.HeaderName] = authInfo.Token;\n            headers[ConnectionIdHeader] = connectionId;\n            return new Exports_1.WebsocketConnection(endpoint, queryParams, headers, new Exports_3.WebsocketMessageFormatter(), connectionId);\n        };\n    }\n    Object.defineProperty(SpeechConnectionFactory.prototype, \"Host\", {\n        get: function () {\n            return Exports_2.Storage.Local.GetOrAdd(\"Host\", \"wss://speech.platform.bing.com\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionFactory.prototype, \"InteractiveRelativeUri\", {\n        get: function () {\n            return Exports_2.Storage.Local.GetOrAdd(\"InteractiveRelativeUri\", \"/speech/recognition/interactive/cognitiveservices/v1\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionFactory.prototype, \"ConversationRelativeUri\", {\n        get: function () {\n            return Exports_2.Storage.Local.GetOrAdd(\"ConversationRelativeUri\", \"/speech/recognition/conversation/cognitiveservices/v1\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionFactory.prototype, \"DictationRelativeUri\", {\n        get: function () {\n            return Exports_2.Storage.Local.GetOrAdd(\"DictationRelativeUri\", \"/speech/recognition/dictation/cognitiveservices/v1\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionFactory.prototype, \"IsDebugModeEnabled\", {\n        get: function () {\n            var value = Exports_2.Storage.Local.GetOrAdd(\"IsDebugModeEnabled\", \"false\");\n            return value.toLowerCase() === \"true\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SpeechConnectionFactory;\n}());\nexports.SpeechConnectionFactory = SpeechConnectionFactory;\n\n//# sourceMappingURL=SpeechConnectionFactory.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../../common/Exports\");\nvar IAuthentication_1 = require(\"./IAuthentication\");\nvar AuthHeader = \"Ocp-Apim-Subscription-Key\";\nvar CognitiveSubscriptionKeyAuthentication = /** @class */ (function () {\n    function CognitiveSubscriptionKeyAuthentication(subscriptionKey) {\n        var _this = this;\n        this.Fetch = function (authFetchEventId) {\n            return Exports_1.PromiseHelper.FromResult(_this.authInfo);\n        };\n        this.FetchOnExpiry = function (authFetchEventId) {\n            return Exports_1.PromiseHelper.FromResult(_this.authInfo);\n        };\n        if (!subscriptionKey) {\n            throw new Exports_1.ArgumentNullError(\"subscriptionKey\");\n        }\n        this.authInfo = new IAuthentication_1.AuthInfo(AuthHeader, subscriptionKey);\n    }\n    return CognitiveSubscriptionKeyAuthentication;\n}());\nexports.CognitiveSubscriptionKeyAuthentication = CognitiveSubscriptionKeyAuthentication;\n\n//# sourceMappingURL=CognitiveSubscriptionKeyAuthentication.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../../common/Exports\");\nvar IAuthentication_1 = require(\"./IAuthentication\");\nvar AuthHeader = \"Authorization\";\nvar CognitiveTokenAuthentication = /** @class */ (function () {\n    function CognitiveTokenAuthentication(fetchCallback, fetchOnExpiryCallback) {\n        var _this = this;\n        this.Fetch = function (authFetchEventId) {\n            return _this.fetchCallback(authFetchEventId).OnSuccessContinueWith(function (token) { return new IAuthentication_1.AuthInfo(AuthHeader, token); });\n        };\n        this.FetchOnExpiry = function (authFetchEventId) {\n            return _this.fetchOnExpiryCallback(authFetchEventId).OnSuccessContinueWith(function (token) { return new IAuthentication_1.AuthInfo(AuthHeader, token); });\n        };\n        if (!fetchCallback) {\n            throw new Exports_1.ArgumentNullError(\"fetchCallback\");\n        }\n        if (!fetchOnExpiryCallback) {\n            throw new Exports_1.ArgumentNullError(\"fetchOnExpiryCallback\");\n        }\n        this.fetchCallback = fetchCallback;\n        this.fetchOnExpiryCallback = fetchOnExpiryCallback;\n    }\n    return CognitiveTokenAuthentication;\n}());\nexports.CognitiveTokenAuthentication = CognitiveTokenAuthentication;\n\n//# sourceMappingURL=CognitiveTokenAuthentication.js.map\n","\"use strict\";\n// IMPORTANT - Dont publish internal modules.\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./CognitiveSubscriptionKeyAuthentication\"));\n__export(require(\"./CognitiveTokenAuthentication\"));\n__export(require(\"./IAuthentication\"));\n__export(require(\"./RecognitionEvents\"));\n__export(require(\"./Recognizer\"));\n__export(require(\"./RecognizerConfig\"));\n__export(require(\"./SpeechResults\"));\n__export(require(\"./WebsocketMessageFormatter\"));\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AuthInfo = /** @class */ (function () {\n    function AuthInfo(headerName, token) {\n        this.headerName = headerName;\n        this.token = token;\n    }\n    Object.defineProperty(AuthInfo.prototype, \"HeaderName\", {\n        get: function () {\n            return this.headerName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AuthInfo.prototype, \"Token\", {\n        get: function () {\n            return this.token;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AuthInfo;\n}());\nexports.AuthInfo = AuthInfo;\n\n//# sourceMappingURL=IAuthentication.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../../common/Exports\");\nvar SpeechRecognitionEvent = /** @class */ (function (_super) {\n    __extends(SpeechRecognitionEvent, _super);\n    function SpeechRecognitionEvent(eventName, requestId, eventType) {\n        if (eventType === void 0) { eventType = Exports_1.EventType.Info; }\n        var _this = _super.call(this, eventName, eventType) || this;\n        _this.requestId = requestId;\n        return _this;\n    }\n    Object.defineProperty(SpeechRecognitionEvent.prototype, \"RequestId\", {\n        get: function () {\n            return this.requestId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SpeechRecognitionEvent;\n}(Exports_1.PlatformEvent));\nexports.SpeechRecognitionEvent = SpeechRecognitionEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechRecognitionResultEvent = /** @class */ (function (_super) {\n    __extends(SpeechRecognitionResultEvent, _super);\n    function SpeechRecognitionResultEvent(eventName, requestId, result) {\n        var _this = _super.call(this, eventName, requestId) || this;\n        _this.result = result;\n        return _this;\n    }\n    Object.defineProperty(SpeechRecognitionResultEvent.prototype, \"Result\", {\n        get: function () {\n            return this.result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SpeechRecognitionResultEvent;\n}(SpeechRecognitionEvent));\nexports.SpeechRecognitionResultEvent = SpeechRecognitionResultEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar RecognitionTriggeredEvent = /** @class */ (function (_super) {\n    __extends(RecognitionTriggeredEvent, _super);\n    function RecognitionTriggeredEvent(requestId, audioSourceId, audioNodeId) {\n        var _this = _super.call(this, \"RecognitionTriggeredEvent\", requestId) || this;\n        _this.audioSourceId = audioSourceId;\n        _this.audioNodeId = audioNodeId;\n        return _this;\n    }\n    Object.defineProperty(RecognitionTriggeredEvent.prototype, \"AudioSourceId\", {\n        get: function () {\n            return this.audioSourceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionTriggeredEvent.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RecognitionTriggeredEvent;\n}(SpeechRecognitionEvent));\nexports.RecognitionTriggeredEvent = RecognitionTriggeredEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ListeningStartedEvent = /** @class */ (function (_super) {\n    __extends(ListeningStartedEvent, _super);\n    function ListeningStartedEvent(requestId, audioSourceId, audioNodeId) {\n        var _this = _super.call(this, \"ListeningStartedEvent\", requestId) || this;\n        _this.audioSourceId = audioSourceId;\n        _this.audioNodeId = audioNodeId;\n        return _this;\n    }\n    Object.defineProperty(ListeningStartedEvent.prototype, \"AudioSourceId\", {\n        get: function () {\n            return this.audioSourceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ListeningStartedEvent.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ListeningStartedEvent;\n}(SpeechRecognitionEvent));\nexports.ListeningStartedEvent = ListeningStartedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectingToServiceEvent = /** @class */ (function (_super) {\n    __extends(ConnectingToServiceEvent, _super);\n    function ConnectingToServiceEvent(requestId, authFetchEventid, connectionId) {\n        var _this = _super.call(this, \"ConnectingToServiceEvent\", requestId) || this;\n        _this.authFetchEventid = authFetchEventid;\n        _this.connectionId = connectionId;\n        return _this;\n    }\n    Object.defineProperty(ConnectingToServiceEvent.prototype, \"AuthFetchEventid\", {\n        get: function () {\n            return this.authFetchEventid;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectingToServiceEvent.prototype, \"ConnectionId\", {\n        get: function () {\n            return this.connectionId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectingToServiceEvent;\n}(SpeechRecognitionEvent));\nexports.ConnectingToServiceEvent = ConnectingToServiceEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar RecognitionStartedEvent = /** @class */ (function (_super) {\n    __extends(RecognitionStartedEvent, _super);\n    function RecognitionStartedEvent(requestId, audioSourceId, audioNodeId, authFetchEventId, connectionId) {\n        var _this = _super.call(this, \"RecognitionStartedEvent\", requestId) || this;\n        _this.audioSourceId = audioSourceId;\n        _this.audioNodeId = audioNodeId;\n        _this.authFetchEventId = authFetchEventId;\n        _this.connectionId = connectionId;\n        return _this;\n    }\n    Object.defineProperty(RecognitionStartedEvent.prototype, \"AudioSourceId\", {\n        get: function () {\n            return this.audioSourceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionStartedEvent.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionStartedEvent.prototype, \"AuthFetchEventId\", {\n        get: function () {\n            return this.authFetchEventId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionStartedEvent.prototype, \"ConnectionId\", {\n        get: function () {\n            return this.connectionId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RecognitionStartedEvent;\n}(SpeechRecognitionEvent));\nexports.RecognitionStartedEvent = RecognitionStartedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechStartDetectedEvent = /** @class */ (function (_super) {\n    __extends(SpeechStartDetectedEvent, _super);\n    function SpeechStartDetectedEvent(requestId, result) {\n        return _super.call(this, \"SpeechStartDetectedEvent\", requestId, result) || this;\n    }\n    return SpeechStartDetectedEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechStartDetectedEvent = SpeechStartDetectedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechHypothesisEvent = /** @class */ (function (_super) {\n    __extends(SpeechHypothesisEvent, _super);\n    function SpeechHypothesisEvent(requestId, result) {\n        return _super.call(this, \"SpeechHypothesisEvent\", requestId, result) || this;\n    }\n    return SpeechHypothesisEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechHypothesisEvent = SpeechHypothesisEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechFragmentEvent = /** @class */ (function (_super) {\n    __extends(SpeechFragmentEvent, _super);\n    function SpeechFragmentEvent(requestId, result) {\n        return _super.call(this, \"SpeechFragmentEvent\", requestId, result) || this;\n    }\n    return SpeechFragmentEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechFragmentEvent = SpeechFragmentEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechEndDetectedEvent = /** @class */ (function (_super) {\n    __extends(SpeechEndDetectedEvent, _super);\n    function SpeechEndDetectedEvent(requestId, result) {\n        return _super.call(this, \"SpeechEndDetectedEvent\", requestId, result) || this;\n    }\n    return SpeechEndDetectedEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechEndDetectedEvent = SpeechEndDetectedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechSimplePhraseEvent = /** @class */ (function (_super) {\n    __extends(SpeechSimplePhraseEvent, _super);\n    function SpeechSimplePhraseEvent(requestId, result) {\n        return _super.call(this, \"SpeechSimplePhraseEvent\", requestId, result) || this;\n    }\n    return SpeechSimplePhraseEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechSimplePhraseEvent = SpeechSimplePhraseEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechDetailedPhraseEvent = /** @class */ (function (_super) {\n    __extends(SpeechDetailedPhraseEvent, _super);\n    function SpeechDetailedPhraseEvent(requestId, result) {\n        return _super.call(this, \"SpeechDetailedPhraseEvent\", requestId, result) || this;\n    }\n    return SpeechDetailedPhraseEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechDetailedPhraseEvent = SpeechDetailedPhraseEvent;\nvar RecognitionCompletionStatus;\n(function (RecognitionCompletionStatus) {\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"Success\"] = 0] = \"Success\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AudioSourceError\"] = 1] = \"AudioSourceError\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AudioSourceTimeout\"] = 2] = \"AudioSourceTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AuthTokenFetchError\"] = 3] = \"AuthTokenFetchError\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AuthTokenFetchTimeout\"] = 4] = \"AuthTokenFetchTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"UnAuthorized\"] = 5] = \"UnAuthorized\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"ConnectTimeout\"] = 6] = \"ConnectTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"ConnectError\"] = 7] = \"ConnectError\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"ClientRecognitionActivityTimeout\"] = 8] = \"ClientRecognitionActivityTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"UnknownError\"] = 9] = \"UnknownError\";\n})(RecognitionCompletionStatus = exports.RecognitionCompletionStatus || (exports.RecognitionCompletionStatus = {}));\n// tslint:disable-next-line:max-classes-per-file\nvar RecognitionEndedEvent = /** @class */ (function (_super) {\n    __extends(RecognitionEndedEvent, _super);\n    function RecognitionEndedEvent(requestId, audioSourceId, audioNodeId, authFetchEventId, connectionId, serviceTag, status, error) {\n        var _this = _super.call(this, \"RecognitionEndedEvent\", requestId, status === RecognitionCompletionStatus.Success ? Exports_1.EventType.Info : Exports_1.EventType.Error) || this;\n        _this.audioSourceId = audioSourceId;\n        _this.audioNodeId = audioNodeId;\n        _this.connectionId = connectionId;\n        _this.authFetchEventId = authFetchEventId;\n        _this.status = status;\n        _this.error = error;\n        _this.serviceTag = serviceTag;\n        return _this;\n    }\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"AudioSourceId\", {\n        get: function () {\n            return this.audioSourceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"AuthFetchEventId\", {\n        get: function () {\n            return this.authFetchEventId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"ConnectionId\", {\n        get: function () {\n            return this.connectionId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"ServiceTag\", {\n        get: function () {\n            return this.serviceTag;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"Status\", {\n        get: function () {\n            return this.status;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"Error\", {\n        get: function () {\n            return this.error;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RecognitionEndedEvent;\n}(SpeechRecognitionEvent));\nexports.RecognitionEndedEvent = RecognitionEndedEvent;\n\n//# sourceMappingURL=RecognitionEvents.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../../common/Exports\");\nvar RecognitionEvents_1 = require(\"./RecognitionEvents\");\nvar RecognizerConfig_1 = require(\"./RecognizerConfig\");\nvar ServiceTelemetryListener_Internal_1 = require(\"./ServiceTelemetryListener.Internal\");\nvar SpeechConnectionMessage_Internal_1 = require(\"./SpeechConnectionMessage.Internal\");\nvar Recognizer = /** @class */ (function () {\n    function Recognizer(authentication, connectionFactory, audioSource, recognizerConfig) {\n        var _this = this;\n        this.Recognize = function (onEventCallback, speechContextJson) {\n            var requestSession = new RequestSession(_this.audioSource.Id(), onEventCallback);\n            requestSession.ListenForServiceTelemetry(_this.audioSource.Events);\n            return _this.audioSource\n                .Attach(requestSession.AudioNodeId)\n                .ContinueWithPromise(function (result) {\n                if (result.IsError) {\n                    requestSession.OnAudioSourceAttachCompleted(null, true, result.Error);\n                    throw new Error(result.Error);\n                }\n                else {\n                    requestSession.OnAudioSourceAttachCompleted(result.Result, false);\n                }\n                var audioNode = result.Result;\n                _this.FetchConnection(requestSession)\n                    .OnSuccessContinueWith(function (connection) {\n                    var messageRetrievalPromise = _this.ReceiveMessage(connection, requestSession);\n                    var messageSendPromise = _this.SendSpeechConfig(requestSession.RequestId, connection, _this.recognizerConfig.SpeechConfig.Serialize())\n                        .OnSuccessContinueWithPromise(function (_) {\n                        return _this.SendSpeechContext(requestSession.RequestId, connection, speechContextJson)\n                            .OnSuccessContinueWithPromise(function (_) {\n                            return _this.SendAudio(requestSession.RequestId, connection, audioNode, requestSession);\n                        });\n                    });\n                    var completionPromise = Exports_1.PromiseHelper.WhenAll([messageRetrievalPromise, messageSendPromise]);\n                    completionPromise.On(function (r) {\n                        requestSession.Dispose();\n                        _this.SendTelemetryData(requestSession.RequestId, connection, requestSession.GetTelemetry());\n                    }, function (error) {\n                        requestSession.Dispose(error);\n                        _this.SendTelemetryData(requestSession.RequestId, connection, requestSession.GetTelemetry());\n                    });\n                    return completionPromise;\n                });\n                return requestSession.CompletionPromise;\n            });\n        };\n        this.FetchConnection = function (requestSession, isUnAuthorized) {\n            if (isUnAuthorized === void 0) { isUnAuthorized = false; }\n            if (_this.connectionFetchPromise) {\n                if (_this.connectionFetchPromise.Result().IsError\n                    || _this.connectionFetchPromise.Result().Result.State() === Exports_1.ConnectionState.Disconnected) {\n                    _this.connectionId = null;\n                    _this.connectionFetchPromise = null;\n                    return _this.FetchConnection(requestSession);\n                }\n                else {\n                    requestSession.OnPreConnectionStart(_this.authFetchEventId, _this.connectionId);\n                    requestSession.OnConnectionEstablishCompleted(200);\n                    requestSession.ListenForServiceTelemetry(_this.connectionFetchPromise.Result().Result.Events);\n                    return _this.connectionFetchPromise;\n                }\n            }\n            _this.authFetchEventId = Exports_1.CreateNoDashGuid();\n            _this.connectionId = Exports_1.CreateNoDashGuid();\n            requestSession.OnPreConnectionStart(_this.authFetchEventId, _this.connectionId);\n            var authPromise = isUnAuthorized ? _this.authentication.FetchOnExpiry(_this.authFetchEventId) : _this.authentication.Fetch(_this.authFetchEventId);\n            _this.connectionFetchPromise = authPromise\n                .ContinueWithPromise(function (result) {\n                if (result.IsError) {\n                    requestSession.OnAuthCompleted(true, result.Error);\n                    throw new Error(result.Error);\n                }\n                else {\n                    requestSession.OnAuthCompleted(false);\n                }\n                var connection = _this.connectionFactory.Create(_this.recognizerConfig, result.Result, _this.connectionId);\n                requestSession.ListenForServiceTelemetry(connection.Events);\n                return connection.Open().OnSuccessContinueWithPromise(function (response) {\n                    if (response.StatusCode === 200) {\n                        requestSession.OnConnectionEstablishCompleted(response.StatusCode);\n                        return Exports_1.PromiseHelper.FromResult(connection);\n                    }\n                    else if (response.StatusCode === 403 && !isUnAuthorized) {\n                        return _this.FetchConnection(requestSession, true);\n                    }\n                    else {\n                        requestSession.OnConnectionEstablishCompleted(response.StatusCode, response.Reason);\n                        return Exports_1.PromiseHelper.FromError(\"Unable to contact server. StatusCode: \" + response.StatusCode + \", Reason: \" + response.Reason);\n                    }\n                });\n            });\n            return _this.connectionFetchPromise;\n        };\n        this.ReceiveMessage = function (connection, requestSession) {\n            return connection\n                .Read()\n                .OnSuccessContinueWithPromise(function (message) {\n                var connectionMessage = SpeechConnectionMessage_Internal_1.SpeechConnectionMessage.FromConnectionMessage(message);\n                if (connectionMessage.RequestId.toLowerCase() === requestSession.RequestId.toLowerCase()) {\n                    switch (connectionMessage.Path.toLowerCase()) {\n                        case \"turn.start\":\n                            requestSession.OnServiceTurnStartResponse(JSON.parse(connectionMessage.TextBody));\n                            break;\n                        case \"speech.startDetected\":\n                            requestSession.OnServiceSpeechStartDetectedResponse(JSON.parse(connectionMessage.TextBody));\n                            break;\n                        case \"speech.hypothesis\":\n                            requestSession.OnServiceSpeechHypothesisResponse(JSON.parse(connectionMessage.TextBody));\n                            break;\n                        case \"speech.fragment\":\n                            requestSession.OnServiceSpeechFragmentResponse(JSON.parse(connectionMessage.TextBody));\n                            break;\n                        case \"speech.enddetected\":\n                            requestSession.OnServiceSpeechEndDetectedResponse(JSON.parse(connectionMessage.TextBody));\n                            break;\n                        case \"speech.phrase\":\n                            if (_this.recognizerConfig.IsContinuousRecognition) {\n                                // For continuous recognition telemetry has to be sent for every phrase as per spec.\n                                _this.SendTelemetryData(requestSession.RequestId, connection, requestSession.GetTelemetry());\n                            }\n                            if (_this.recognizerConfig.Format === RecognizerConfig_1.SpeechResultFormat.Simple) {\n                                requestSession.OnServiceSimpleSpeechPhraseResponse(JSON.parse(connectionMessage.TextBody));\n                            }\n                            else {\n                                requestSession.OnServiceDetailedSpeechPhraseResponse(JSON.parse(connectionMessage.TextBody));\n                            }\n                            break;\n                        case \"turn.end\":\n                            requestSession.OnServiceTurnEndResponse();\n                            return Exports_1.PromiseHelper.FromResult(true);\n                        default:\n                            break;\n                    }\n                }\n                return _this.ReceiveMessage(connection, requestSession);\n            });\n        };\n        this.SendSpeechConfig = function (requestId, connection, speechConfigJson) {\n            if (speechConfigJson && _this.connectionId !== _this.speechConfigConnectionId) {\n                _this.speechConfigConnectionId = _this.connectionId;\n                return connection\n                    .Send(new SpeechConnectionMessage_Internal_1.SpeechConnectionMessage(Exports_1.MessageType.Text, \"speech.config\", requestId, \"application/json\", speechConfigJson));\n            }\n            return Exports_1.PromiseHelper.FromResult(true);\n        };\n        this.SendSpeechContext = function (requestId, connection, speechContextJson) {\n            if (speechContextJson) {\n                return connection\n                    .Send(new SpeechConnectionMessage_Internal_1.SpeechConnectionMessage(Exports_1.MessageType.Text, \"speech.context\", requestId, \"application/json\", speechContextJson));\n            }\n            return Exports_1.PromiseHelper.FromResult(true);\n        };\n        this.SendTelemetryData = function (requestId, connection, telemetryData) {\n            return connection\n                .Send(new SpeechConnectionMessage_Internal_1.SpeechConnectionMessage(Exports_1.MessageType.Text, \"telemetry\", requestId, \"application/json\", telemetryData));\n        };\n        this.SendAudio = function (requestId, connection, audioStreamNode, requestSession) {\n            // NOTE: Home-baked promises crash ios safari during the invocation\n            // of the error callback chain (looks like the recursion is way too deep, and\n            // it blows up the stack). The following construct is a stop-gap that does not\n            // bubble the error up the callback chain and hence circumvents this problem.\n            // TODO: rewrite with ES6 promises.\n            var deferred = new Exports_1.Deferred();\n            var readAndUploadCycle = function (_) {\n                audioStreamNode.Read().On(function (audioStreamChunk) {\n                    // we have a new audio chunk to upload.\n                    if (requestSession.IsSpeechEnded) {\n                        // If service already recognized audio end then dont send any more audio\n                        deferred.Resolve(true);\n                        return;\n                    }\n                    var payload = (audioStreamChunk.IsEnd) ? null : audioStreamChunk.Buffer;\n                    var uploaded = connection.Send(new SpeechConnectionMessage_Internal_1.SpeechConnectionMessage(Exports_1.MessageType.Binary, \"audio\", requestId, null, payload));\n                    if (!audioStreamChunk.IsEnd) {\n                        uploaded.OnSuccessContinueWith(readAndUploadCycle);\n                    }\n                    else {\n                        // the audio stream has been closed, no need to schedule next\n                        // read-upload cycle.\n                        deferred.Resolve(true);\n                    }\n                }, function (error) {\n                    if (requestSession.IsSpeechEnded) {\n                        // For whatever reason, Reject is used to remove queue subscribers inside\n                        // the Queue.DrainAndDispose invoked from DetachAudioNode down blow, which\n                        // means that sometimes things can be rejected in normal circumstances, without\n                        // any errors.\n                        deferred.Resolve(true); // TODO: remove the argument, it's is completely meaningless.\n                    }\n                    else {\n                        // Only reject, if there was a proper error.\n                        deferred.Reject(error);\n                    }\n                });\n            };\n            readAndUploadCycle(true);\n            return deferred.Promise();\n        };\n        if (!authentication) {\n            throw new Exports_1.ArgumentNullError(\"authentication\");\n        }\n        if (!connectionFactory) {\n            throw new Exports_1.ArgumentNullError(\"connectionFactory\");\n        }\n        if (!audioSource) {\n            throw new Exports_1.ArgumentNullError(\"audioSource\");\n        }\n        if (!recognizerConfig) {\n            throw new Exports_1.ArgumentNullError(\"recognizerConfig\");\n        }\n        this.authentication = authentication;\n        this.connectionFactory = connectionFactory;\n        this.audioSource = audioSource;\n        this.recognizerConfig = recognizerConfig;\n    }\n    Object.defineProperty(Recognizer.prototype, \"AudioSource\", {\n        get: function () {\n            return this.audioSource;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Recognizer;\n}());\nexports.Recognizer = Recognizer;\n// tslint:disable-next-line:max-classes-per-file\nvar RequestSession = /** @class */ (function () {\n    function RequestSession(audioSourceId, onEventCallback) {\n        var _this = this;\n        this.isDisposed = false;\n        this.detachables = new Array();\n        this.isAudioNodeDetached = false;\n        this.isCompleted = false;\n        this.OnAudioSourceAttachCompleted = function (audioNode, isError, error) {\n            _this.audioNode = audioNode;\n            if (isError) {\n                _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.AudioSourceError, error);\n            }\n            else {\n                _this.OnEvent(new RecognitionEvents_1.ListeningStartedEvent(_this.requestId, _this.audioSourceId, _this.audioNodeId));\n            }\n        };\n        this.OnPreConnectionStart = function (authFetchEventId, connectionId) {\n            _this.authFetchEventId = authFetchEventId;\n            _this.connectionId = connectionId;\n            _this.OnEvent(new RecognitionEvents_1.ConnectingToServiceEvent(_this.requestId, _this.authFetchEventId, _this.connectionId));\n        };\n        this.OnAuthCompleted = function (isError, error) {\n            if (isError) {\n                _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.AuthTokenFetchError, error);\n            }\n        };\n        this.OnConnectionEstablishCompleted = function (statusCode, reason) {\n            if (statusCode === 200) {\n                _this.OnEvent(new RecognitionEvents_1.RecognitionStartedEvent(_this.RequestId, _this.audioSourceId, _this.audioNodeId, _this.authFetchEventId, _this.connectionId));\n                return;\n            }\n            else if (statusCode === 403) {\n                _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.UnAuthorized, reason);\n            }\n            else {\n                _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.ConnectError, reason);\n            }\n        };\n        this.OnServiceTurnStartResponse = function (response) {\n            if (response && response.context && response.context.serviceTag) {\n                _this.serviceTag = response.context.serviceTag;\n            }\n        };\n        this.OnServiceSpeechStartDetectedResponse = function (result) {\n            _this.OnEvent(new RecognitionEvents_1.SpeechStartDetectedEvent(_this.RequestId, result));\n        };\n        this.OnServiceSpeechHypothesisResponse = function (result) {\n            _this.OnEvent(new RecognitionEvents_1.SpeechHypothesisEvent(_this.RequestId, result));\n        };\n        this.OnServiceSpeechFragmentResponse = function (result) {\n            _this.OnEvent(new RecognitionEvents_1.SpeechFragmentEvent(_this.RequestId, result));\n        };\n        this.OnServiceSpeechEndDetectedResponse = function (result) {\n            _this.DetachAudioNode();\n            _this.OnEvent(new RecognitionEvents_1.SpeechEndDetectedEvent(_this.RequestId, result));\n        };\n        this.OnServiceSimpleSpeechPhraseResponse = function (result) {\n            _this.OnEvent(new RecognitionEvents_1.SpeechSimplePhraseEvent(_this.RequestId, result));\n        };\n        this.OnServiceDetailedSpeechPhraseResponse = function (result) {\n            _this.OnEvent(new RecognitionEvents_1.SpeechDetailedPhraseEvent(_this.RequestId, result));\n        };\n        this.OnServiceTurnEndResponse = function () {\n            _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.Success);\n        };\n        this.OnConnectionError = function (error) {\n            _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.UnknownError, error);\n        };\n        this.Dispose = function (error) {\n            if (!_this.isDisposed) {\n                // we should have completed by now. If we did not its an unknown error.\n                _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.UnknownError, error);\n                _this.isDisposed = true;\n                for (var _i = 0, _a = _this.detachables; _i < _a.length; _i++) {\n                    var detachable = _a[_i];\n                    detachable.Detach();\n                }\n                _this.serviceTelemetryListener.Dispose();\n            }\n        };\n        this.GetTelemetry = function () {\n            return _this.serviceTelemetryListener.GetTelemetry();\n        };\n        this.OnComplete = function (status, error) {\n            if (!_this.isCompleted) {\n                _this.isCompleted = true;\n                _this.DetachAudioNode();\n                _this.OnEvent(new RecognitionEvents_1.RecognitionEndedEvent(_this.RequestId, _this.audioSourceId, _this.audioNodeId, _this.authFetchEventId, _this.connectionId, _this.serviceTag, status, error ? error : \"\"));\n            }\n        };\n        this.DetachAudioNode = function () {\n            if (!_this.isAudioNodeDetached) {\n                _this.isAudioNodeDetached = true;\n                if (_this.audioNode) {\n                    _this.audioNode.Detach();\n                }\n            }\n        };\n        this.OnEvent = function (event) {\n            _this.serviceTelemetryListener.OnEvent(event);\n            Exports_1.Events.Instance.OnEvent(event);\n            if (_this.onEventCallback) {\n                _this.onEventCallback(event);\n            }\n        };\n        this.audioSourceId = audioSourceId;\n        this.onEventCallback = onEventCallback;\n        this.requestId = Exports_1.CreateNoDashGuid();\n        this.audioNodeId = Exports_1.CreateNoDashGuid();\n        this.requestCompletionDeferral = new Exports_1.Deferred();\n        this.serviceTelemetryListener = new ServiceTelemetryListener_Internal_1.ServiceTelemetryListener(this.requestId, this.audioSourceId, this.audioNodeId);\n        this.OnEvent(new RecognitionEvents_1.RecognitionTriggeredEvent(this.RequestId, this.audioSourceId, this.audioNodeId));\n    }\n    Object.defineProperty(RequestSession.prototype, \"RequestId\", {\n        get: function () {\n            return this.requestId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestSession.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestSession.prototype, \"CompletionPromise\", {\n        get: function () {\n            return this.requestCompletionDeferral.Promise();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestSession.prototype, \"IsSpeechEnded\", {\n        get: function () {\n            return this.isAudioNodeDetached;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestSession.prototype, \"IsCompleted\", {\n        get: function () {\n            return this.isCompleted;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RequestSession.prototype.ListenForServiceTelemetry = function (eventSource) {\n        this.detachables.push(eventSource.AttachListener(this.serviceTelemetryListener));\n    };\n    return RequestSession;\n}());\n\n//# sourceMappingURL=Recognizer.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RecognitionMode;\n(function (RecognitionMode) {\n    RecognitionMode[RecognitionMode[\"Interactive\"] = 0] = \"Interactive\";\n    RecognitionMode[RecognitionMode[\"Conversation\"] = 1] = \"Conversation\";\n    RecognitionMode[RecognitionMode[\"Dictation\"] = 2] = \"Dictation\";\n})(RecognitionMode = exports.RecognitionMode || (exports.RecognitionMode = {}));\nvar SpeechResultFormat;\n(function (SpeechResultFormat) {\n    SpeechResultFormat[SpeechResultFormat[\"Simple\"] = 0] = \"Simple\";\n    SpeechResultFormat[SpeechResultFormat[\"Detailed\"] = 1] = \"Detailed\";\n})(SpeechResultFormat = exports.SpeechResultFormat || (exports.SpeechResultFormat = {}));\nvar RecognizerConfig = /** @class */ (function () {\n    function RecognizerConfig(platformConfig, recognitionMode, language, format) {\n        if (recognitionMode === void 0) { recognitionMode = RecognitionMode.Interactive; }\n        if (language === void 0) { language = \"en-us\"; }\n        if (format === void 0) { format = SpeechResultFormat.Simple; }\n        this.recognitionMode = RecognitionMode.Interactive;\n        this.speechConfig = platformConfig ? platformConfig : new SpeechConfig(new Context(null, null));\n        this.recognitionMode = recognitionMode;\n        this.language = language;\n        this.format = format;\n        this.recognitionActivityTimeout = recognitionMode === RecognitionMode.Interactive ? 8000 : 25000;\n    }\n    Object.defineProperty(RecognizerConfig.prototype, \"RecognitionMode\", {\n        get: function () {\n            return this.recognitionMode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognizerConfig.prototype, \"Language\", {\n        get: function () {\n            return this.language;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognizerConfig.prototype, \"Format\", {\n        get: function () {\n            return this.format;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognizerConfig.prototype, \"SpeechConfig\", {\n        get: function () {\n            return this.speechConfig;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognizerConfig.prototype, \"RecognitionActivityTimeout\", {\n        get: function () {\n            return this.recognitionActivityTimeout;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognizerConfig.prototype, \"IsContinuousRecognition\", {\n        get: function () {\n            return this.recognitionMode !== RecognitionMode.Interactive;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RecognizerConfig;\n}());\nexports.RecognizerConfig = RecognizerConfig;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechConfig = /** @class */ (function () {\n    function SpeechConfig(context) {\n        var _this = this;\n        this.Serialize = function () {\n            return JSON.stringify(_this, function (key, value) {\n                if (value && typeof value === \"object\") {\n                    var replacement = {};\n                    for (var k in value) {\n                        if (Object.hasOwnProperty.call(value, k)) {\n                            replacement[k && k.charAt(0).toLowerCase() + k.substring(1)] = value[k];\n                        }\n                    }\n                    return replacement;\n                }\n                return value;\n            });\n        };\n        this.context = context;\n    }\n    Object.defineProperty(SpeechConfig.prototype, \"Context\", {\n        get: function () {\n            return this.context;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SpeechConfig;\n}());\nexports.SpeechConfig = SpeechConfig;\n// tslint:disable-next-line:max-classes-per-file\nvar Context = /** @class */ (function () {\n    function Context(os, device) {\n        this.system = new System();\n        this.os = os;\n        this.device = device;\n    }\n    Object.defineProperty(Context.prototype, \"System\", {\n        get: function () {\n            return this.system;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"OS\", {\n        get: function () {\n            return this.os;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"Device\", {\n        get: function () {\n            return this.device;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Context;\n}());\nexports.Context = Context;\n// tslint:disable-next-line:max-classes-per-file\nvar System = /** @class */ (function () {\n    function System() {\n        // TODO: Tie this with the sdk Version somehow\n        this.version = \"1.0.00000\";\n    }\n    Object.defineProperty(System.prototype, \"Version\", {\n        get: function () {\n            // Controlled by sdk\n            return this.version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return System;\n}());\nexports.System = System;\n// tslint:disable-next-line:max-classes-per-file\nvar OS = /** @class */ (function () {\n    function OS(platform, name, version) {\n        this.platform = platform;\n        this.name = name;\n        this.version = version;\n    }\n    Object.defineProperty(OS.prototype, \"Platform\", {\n        get: function () {\n            return this.platform;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OS.prototype, \"Name\", {\n        get: function () {\n            return this.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OS.prototype, \"Version\", {\n        get: function () {\n            return this.version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return OS;\n}());\nexports.OS = OS;\n// tslint:disable-next-line:max-classes-per-file\nvar Device = /** @class */ (function () {\n    function Device(manufacturer, model, version) {\n        this.manufacturer = manufacturer;\n        this.model = model;\n        this.version = version;\n    }\n    Object.defineProperty(Device.prototype, \"Manufacturer\", {\n        get: function () {\n            return this.manufacturer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Device.prototype, \"Model\", {\n        get: function () {\n            return this.model;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Device.prototype, \"Version\", {\n        get: function () {\n            return this.version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Device;\n}());\nexports.Device = Device;\n\n//# sourceMappingURL=RecognizerConfig.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../../common/Exports\");\nvar RecognitionEvents_1 = require(\"./RecognitionEvents\");\n// tslint:disable-next-line:max-classes-per-file\nvar ServiceTelemetryListener = /** @class */ (function () {\n    function ServiceTelemetryListener(requestId, audioSourceId, audioNodeId) {\n        var _this = this;\n        this.isDisposed = false;\n        this.listeningTriggerMetric = null;\n        this.micMetric = null;\n        this.connectionEstablishMetric = null;\n        this.OnEvent = function (e) {\n            if (_this.isDisposed) {\n                return;\n            }\n            if (e instanceof RecognitionEvents_1.RecognitionTriggeredEvent && e.RequestId === _this.requestId) {\n                _this.listeningTriggerMetric = {\n                    End: e.EventTime,\n                    Name: \"ListeningTrigger\",\n                    Start: e.EventTime,\n                };\n            }\n            if (e instanceof Exports_1.AudioStreamNodeAttachingEvent && e.AudioSourceId === _this.audioSourceId && e.AudioNodeId === _this.audioNodeId) {\n                _this.micStartTime = e.EventTime;\n            }\n            if (e instanceof Exports_1.AudioStreamNodeAttachedEvent && e.AudioSourceId === _this.audioSourceId && e.AudioNodeId === _this.audioNodeId) {\n                _this.micStartTime = e.EventTime;\n            }\n            if (e instanceof Exports_1.AudioSourceErrorEvent && e.AudioSourceId === _this.audioSourceId) {\n                if (!_this.micMetric) {\n                    _this.micMetric = {\n                        End: e.EventTime,\n                        Error: e.Error,\n                        Name: \"Microphone\",\n                        Start: _this.micStartTime,\n                    };\n                }\n            }\n            if (e instanceof Exports_1.AudioStreamNodeErrorEvent && e.AudioSourceId === _this.audioSourceId && e.AudioNodeId === _this.audioNodeId) {\n                if (!_this.micMetric) {\n                    _this.micMetric = {\n                        End: e.EventTime,\n                        Error: e.Error,\n                        Name: \"Microphone\",\n                        Start: _this.micStartTime,\n                    };\n                }\n            }\n            if (e instanceof Exports_1.AudioStreamNodeDetachedEvent && e.AudioSourceId === _this.audioSourceId && e.AudioNodeId === _this.audioNodeId) {\n                if (!_this.micMetric) {\n                    _this.micMetric = {\n                        End: e.EventTime,\n                        Name: \"Microphone\",\n                        Start: _this.micStartTime,\n                    };\n                }\n            }\n            if (e instanceof RecognitionEvents_1.ConnectingToServiceEvent && e.RequestId === _this.requestId) {\n                _this.connectionId = e.ConnectionId;\n            }\n            if (e instanceof Exports_1.ConnectionStartEvent && e.ConnectionId === _this.connectionId) {\n                _this.connectionStartTime = e.EventTime;\n            }\n            if (e instanceof Exports_1.ConnectionEstablishedEvent && e.ConnectionId === _this.connectionId) {\n                if (!_this.connectionEstablishMetric) {\n                    _this.connectionEstablishMetric = {\n                        End: e.EventTime,\n                        Id: _this.connectionId,\n                        Name: \"Connection\",\n                        Start: _this.connectionStartTime,\n                    };\n                }\n            }\n            if (e instanceof Exports_1.ConnectionEstablishErrorEvent && e.ConnectionId === _this.connectionId) {\n                if (!_this.connectionEstablishMetric) {\n                    _this.connectionEstablishMetric = {\n                        End: e.EventTime,\n                        Error: _this.GetConnectionError(e.StatusCode),\n                        Id: _this.connectionId,\n                        Name: \"Connection\",\n                        Start: _this.connectionStartTime,\n                    };\n                }\n            }\n            if (e instanceof Exports_1.ConnectionMessageReceivedEvent && e.ConnectionId === _this.connectionId) {\n                if (e.Message && e.Message.Headers && e.Message.Headers.path) {\n                    if (!_this.receivedMessages[e.Message.Headers.path]) {\n                        _this.receivedMessages[e.Message.Headers.path] = new Array();\n                    }\n                    _this.receivedMessages[e.Message.Headers.path].push(e.NetworkReceivedTime);\n                }\n            }\n        };\n        this.GetTelemetry = function () {\n            var metrics = new Array();\n            if (_this.listeningTriggerMetric) {\n                metrics.push(_this.listeningTriggerMetric);\n            }\n            if (_this.micMetric) {\n                metrics.push(_this.micMetric);\n            }\n            if (_this.connectionEstablishMetric) {\n                metrics.push(_this.connectionEstablishMetric);\n            }\n            var telemetry = {\n                Metrics: metrics,\n                ReceivedMessages: _this.receivedMessages,\n            };\n            var json = JSON.stringify(telemetry);\n            // We dont want to send the same telemetry again. So clean those out.\n            _this.receivedMessages = {};\n            _this.listeningTriggerMetric = null;\n            _this.micMetric = null;\n            _this.connectionEstablishMetric = null;\n            return json;\n        };\n        this.Dispose = function () {\n            _this.isDisposed = true;\n        };\n        this.GetConnectionError = function (statusCode) {\n            /*\n            -- Websocket status codes --\n            NormalClosure = 1000,\n            EndpointUnavailable = 1001,\n            ProtocolError = 1002,\n            InvalidMessageType = 1003,\n            Empty = 1005,\n            InvalidPayloadData = 1007,\n            PolicyViolation = 1008,\n            MessageTooBig = 1009,\n            MandatoryExtension = 1010,\n            InternalServerError = 1011\n            */\n            switch (statusCode) {\n                case 400:\n                case 1002:\n                case 1003:\n                case 1005:\n                case 1007:\n                case 1008:\n                case 1009: return \"BadRequest\";\n                case 401: return \"Unauthorized\";\n                case 403: return \"Forbidden\";\n                case 503:\n                case 1001: return \"ServerUnavailable\";\n                case 500:\n                case 1011: return \"ServerError\";\n                case 408:\n                case 504: return \"Timeout\";\n                default: return \"statuscode:\" + statusCode.toString();\n            }\n        };\n        this.requestId = requestId;\n        this.audioSourceId = audioSourceId;\n        this.audioNodeId = audioNodeId;\n        this.receivedMessages = {};\n    }\n    return ServiceTelemetryListener;\n}());\nexports.ServiceTelemetryListener = ServiceTelemetryListener;\n\n//# sourceMappingURL=ServiceTelemetryListener.Internal.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../../common/Exports\");\nvar PathHeaderName = \"path\";\nvar ContentTypeHeaderName = \"content-type\";\nvar RequestIdHeaderName = \"x-requestid\";\nvar RequestTimestampHeaderName = \"x-timestamp\";\nvar SpeechConnectionMessage = /** @class */ (function (_super) {\n    __extends(SpeechConnectionMessage, _super);\n    function SpeechConnectionMessage(messageType, path, requestId, contentType, body, additionalHeaders, id) {\n        var _this = this;\n        if (!path) {\n            throw new Exports_1.ArgumentNullError(\"path\");\n        }\n        if (!requestId) {\n            throw new Exports_1.ArgumentNullError(\"requestId\");\n        }\n        var headers = {};\n        headers[PathHeaderName] = path;\n        headers[RequestIdHeaderName] = requestId;\n        headers[RequestTimestampHeaderName] = new Date().toISOString();\n        if (contentType) {\n            headers[ContentTypeHeaderName] = contentType;\n        }\n        if (additionalHeaders) {\n            for (var headerName in additionalHeaders) {\n                if (headerName) {\n                    headers[headerName] = additionalHeaders[headerName];\n                }\n            }\n        }\n        if (id) {\n            _this = _super.call(this, messageType, body, headers, id) || this;\n        }\n        else {\n            _this = _super.call(this, messageType, body, headers) || this;\n        }\n        _this.path = path;\n        _this.requestId = requestId;\n        _this.contentType = contentType;\n        _this.additionalHeaders = additionalHeaders;\n        return _this;\n    }\n    Object.defineProperty(SpeechConnectionMessage.prototype, \"Path\", {\n        get: function () {\n            return this.path;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionMessage.prototype, \"RequestId\", {\n        get: function () {\n            return this.requestId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionMessage.prototype, \"ContentType\", {\n        get: function () {\n            return this.contentType;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionMessage.prototype, \"AdditionalHeaders\", {\n        get: function () {\n            return this.additionalHeaders;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SpeechConnectionMessage.FromConnectionMessage = function (message) {\n        var path = null;\n        var requestId = null;\n        var contentType = null;\n        var requestTimestamp = null;\n        var additionalHeaders = {};\n        if (message.Headers) {\n            for (var headerName in message.Headers) {\n                if (headerName) {\n                    if (headerName.toLowerCase() === PathHeaderName.toLowerCase()) {\n                        path = message.Headers[headerName];\n                    }\n                    else if (headerName.toLowerCase() === RequestIdHeaderName.toLowerCase()) {\n                        requestId = message.Headers[headerName];\n                    }\n                    else if (headerName.toLowerCase() === RequestTimestampHeaderName.toLowerCase()) {\n                        requestTimestamp = message.Headers[headerName];\n                    }\n                    else if (headerName.toLowerCase() === ContentTypeHeaderName.toLowerCase()) {\n                        contentType = message.Headers[headerName];\n                    }\n                    else {\n                        additionalHeaders[headerName] = message.Headers[headerName];\n                    }\n                }\n            }\n        }\n        return new SpeechConnectionMessage(message.MessageType, path, requestId, contentType, message.Body, additionalHeaders, message.Id);\n    };\n    return SpeechConnectionMessage;\n}(Exports_1.ConnectionMessage));\nexports.SpeechConnectionMessage = SpeechConnectionMessage;\n\n//# sourceMappingURL=SpeechConnectionMessage.Internal.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RecognitionStatus;\n(function (RecognitionStatus) {\n    RecognitionStatus[RecognitionStatus[\"Success\"] = 0] = \"Success\";\n    RecognitionStatus[RecognitionStatus[\"NoMatch\"] = 1] = \"NoMatch\";\n    RecognitionStatus[RecognitionStatus[\"InitialSilenceTimeout\"] = 2] = \"InitialSilenceTimeout\";\n    RecognitionStatus[RecognitionStatus[\"BabbleTimeout\"] = 3] = \"BabbleTimeout\";\n    RecognitionStatus[RecognitionStatus[\"Error\"] = 4] = \"Error\";\n    RecognitionStatus[RecognitionStatus[\"EndOfDictation\"] = 5] = \"EndOfDictation\";\n})(RecognitionStatus = exports.RecognitionStatus || (exports.RecognitionStatus = {}));\n\n//# sourceMappingURL=SpeechResults.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = require(\"../../common/Exports\");\nvar CRLF = \"\\r\\n\";\nvar WebsocketMessageFormatter = /** @class */ (function () {\n    function WebsocketMessageFormatter() {\n        var _this = this;\n        this.ToConnectionMessage = function (message) {\n            var deferral = new Exports_1.Deferred();\n            try {\n                if (message.MessageType === Exports_1.MessageType.Text) {\n                    var textMessage = message.TextContent;\n                    var headers = {};\n                    var body = null;\n                    if (textMessage) {\n                        var headerBodySplit = textMessage.split(\"\\r\\n\\r\\n\");\n                        if (headerBodySplit && headerBodySplit.length > 0) {\n                            headers = _this.ParseHeaders(headerBodySplit[0]);\n                            if (headerBodySplit.length > 1) {\n                                body = headerBodySplit[1];\n                            }\n                        }\n                    }\n                    deferral.Resolve(new Exports_1.ConnectionMessage(message.MessageType, body, headers, message.Id));\n                }\n                else if (message.MessageType === Exports_1.MessageType.Binary) {\n                    var binaryMessage = message.BinaryContent;\n                    var headers = {};\n                    var body = null;\n                    if (!binaryMessage || binaryMessage.byteLength < 2) {\n                        throw new Error(\"Invalid binary message format. Header length missing.\");\n                    }\n                    var dataView = new DataView(binaryMessage);\n                    var headerLength = dataView.getInt16(0);\n                    if (binaryMessage.byteLength < headerLength + 2) {\n                        throw new Error(\"Invalid binary message format. Header content missing.\");\n                    }\n                    var headersString = \"\";\n                    for (var i = 0; i < headerLength; i++) {\n                        headersString += String.fromCharCode((dataView).getInt8(i + 2));\n                    }\n                    headers = _this.ParseHeaders(headersString);\n                    if (binaryMessage.byteLength > headerLength + 2) {\n                        body = binaryMessage.slice(2 + headerLength);\n                    }\n                    deferral.Resolve(new Exports_1.ConnectionMessage(message.MessageType, body, headers, message.Id));\n                }\n            }\n            catch (e) {\n                deferral.Reject(\"Error formatting the message. Error: \" + e);\n            }\n            return deferral.Promise();\n        };\n        this.FromConnectionMessage = function (message) {\n            var deferral = new Exports_1.Deferred();\n            try {\n                if (message.MessageType === Exports_1.MessageType.Text) {\n                    var payload = \"\" + _this.MakeHeaders(message) + CRLF + (message.TextBody ? message.TextBody : \"\");\n                    deferral.Resolve(new Exports_1.RawWebsocketMessage(Exports_1.MessageType.Text, payload, message.Id));\n                }\n                else if (message.MessageType === Exports_1.MessageType.Binary) {\n                    var headersString = _this.MakeHeaders(message);\n                    var content = message.BinaryBody;\n                    var headerInt8Array = new Int8Array(_this.StringToArrayBuffer(headersString));\n                    var payload = new ArrayBuffer(2 + headerInt8Array.byteLength + (content ? content.byteLength : 0));\n                    var dataView = new DataView(payload);\n                    dataView.setInt16(0, headerInt8Array.length);\n                    for (var i = 0; i < headerInt8Array.byteLength; i++) {\n                        dataView.setInt8(2 + i, headerInt8Array[i]);\n                    }\n                    if (content) {\n                        var bodyInt8Array = new Int8Array(content);\n                        for (var i = 0; i < bodyInt8Array.byteLength; i++) {\n                            dataView.setInt8(2 + headerInt8Array.byteLength + i, bodyInt8Array[i]);\n                        }\n                    }\n                    deferral.Resolve(new Exports_1.RawWebsocketMessage(Exports_1.MessageType.Binary, payload, message.Id));\n                }\n            }\n            catch (e) {\n                deferral.Reject(\"Error formatting the message. \" + e);\n            }\n            return deferral.Promise();\n        };\n        this.MakeHeaders = function (message) {\n            var headersString = \"\";\n            if (message.Headers) {\n                for (var header in message.Headers) {\n                    if (header) {\n                        headersString += header + \": \" + message.Headers[header] + CRLF;\n                    }\n                }\n            }\n            return headersString;\n        };\n        this.ParseHeaders = function (headersString) {\n            var headers = {};\n            if (headersString) {\n                var headerMatches = headersString.match(/[^\\r\\n]+/g);\n                if (headers) {\n                    for (var _i = 0, headerMatches_1 = headerMatches; _i < headerMatches_1.length; _i++) {\n                        var header = headerMatches_1[_i];\n                        if (header) {\n                            var separatorIndex = header.indexOf(\":\");\n                            var headerName = separatorIndex > 0 ? header.substr(0, separatorIndex).trim().toLowerCase() : header;\n                            var headerValue = separatorIndex > 0 && header.length > (separatorIndex + 1) ?\n                                header.substr(separatorIndex + 1).trim() :\n                                \"\";\n                            headers[headerName] = headerValue;\n                        }\n                    }\n                }\n            }\n            return headers;\n        };\n        this.StringToArrayBuffer = function (str) {\n            var buffer = new ArrayBuffer(str.length);\n            var view = new DataView(buffer);\n            for (var i = 0; i < str.length; i++) {\n                view.setUint8(i, str.charCodeAt(i));\n            }\n            return buffer;\n        };\n    }\n    return WebsocketMessageFormatter;\n}());\nexports.WebsocketMessageFormatter = WebsocketMessageFormatter;\n\n//# sourceMappingURL=WebsocketMessageFormatter.js.map\n","require('../sass/app.scss');\n\n//import {translater} from './speech-sdk';\nimport {MDCRipple} from '@material/ripple';\nimport {MDCTopAppBar} from '@material/top-app-bar/index';\nimport translater from './translater';\n\nconst voice = document.querySelectorAll('[data-translater]')\nnew translater(voice)\n\n// Instantiation\nconst topAppBarElement = document.querySelector('.mdc-top-app-bar');\nconst topAppBar = new MDCTopAppBar(topAppBarElement);\n\n// const ripple = new MDCRipple(document.querySelector('.foo-button'));\n\n\n","import * as SDK from 'microsoft-speech-browser-sdk';\n//import { RecognizerSetup,RecognizerStart, RecognizerStop } from './speech-sdk'\n\nclass translater {\n  constructor(el) {\n    this.el = el;\n\n    this.textWarpper = document.querySelector('.text-wrapper');\n    this.textSpan = document.querySelector('#text');\n    this.translteWrapper = document.querySelector('.translate-wrapper ');\n    this.init();\n  }\n\n  init() {\n    console.log(this.el)\n    this.event();\n\n  }\n  event() {\n    const _this = this\n    console.log(this.el)\n    this.el.forEach((k,v) => {\n      console.log(k.dataset.translater)\n      if(k.dataset.translater == 'reply'){\n        k.addEventListener('click', function (e) {\n\n              const recognizer = _this.RecognizerSetup(SDK, 'interactive', 'ar-EG', 'Simple', 'eb5b5418d506499496cc6524ef2a1a4c');\n            _this.RecognizerStart(SDK, recognizer);\n\n          })\n      }else{\n        k.addEventListener('click', function (e) {\n\n          const recognizer = _this.RecognizerSetup(SDK, 'interactive', 'en-US', 'Simple', 'eb5b5418d506499496cc6524ef2a1a4c');\n        _this.RecognizerStart(SDK, recognizer);\n\n      })\n      }\n    })\n\n  }\n\n  RecognizerSetup(SDK, recognitionMode, language, format, subscriptionKey) {\n    let recognizerConfig = new SDK.RecognizerConfig(\n      new SDK.SpeechConfig(\n        new SDK.Context(\n          new SDK.OS(navigator.userAgent, \"Browser\", null),\n          new SDK.Device(\"SpeechSample\", \"SpeechSample\", \"1.0.00000\"))),\n      recognitionMode, // SDK.RecognitionMode.Interactive  (Options - Interactive/Conversation/Dictation)\n      language, // Supported languages are specific to each recognition mode Refer to docs.\n      format); // SDK.SpeechResultFormat.Simple (Options - Simple/Detailed)\n\n    // Alternatively use SDK.CognitiveTokenAuthentication(fetchCallback, fetchOnExpiryCallback) for token auth\n    let authentication = new SDK.CognitiveSubscriptionKeyAuthentication(subscriptionKey);\n\n    return SDK.CreateRecognizer(recognizerConfig, authentication);\n  }\n\n  RecognizerStart(SDK, recognizer) {\n    const _this = this;\n    recognizer.Recognize((event) => {\n      /*\n          Alternative syntax for typescript devs.\n          if (event instanceof SDK.RecognitionTriggeredEvent)\n      */\n      switch (event.Name) {\n        case \"RecognitionTriggeredEvent\":\n\n          console.log(JSON.stringify(event.Result))\n          break;\n        case \"ListeningStartedEvent\":\n          console.log(JSON.stringify(event.Result))\n          break;\n        case \"RecognitionStartedEvent\":\n          console.log(JSON.stringify(event.Result))\n          break;\n        case \"SpeechStartDetectedEvent\":\n\n          console.log(JSON.stringify(event.Result)); // check console for other information in result\n          break;\n        case \"SpeechHypothesisEvent\":\n          _this.showText(event.Result.Text, false);\n\n          console.log(JSON.stringify(event.Result)); // check console for other information in result\n          break;\n        case \"SpeechFragmentEvent\":\n\n          console.log(JSON.stringify(event.Result)); // check console for other information in result\n          break;\n        case \"SpeechEndDetectedEvent\":\n          console.log('SpeechEndDetectedEvent', JSON.stringify(event.Result)); // check console for other information in result\n          break;\n        case \"SpeechSimplePhraseEvent\":\n          console.log('SpeechSimplePhraseEvent', JSON.stringify(event.Result));\n\n          break;\n        case \"SpeechDetailedPhraseEvent\":\n          console.log('SpeechDetailedPhraseEvent', JSON.stringify(event.Result));\n          _this.sendText(JSON.stringify(event.Result.DisplayText))\n\n\n          break;\n        case \"RecognitionEndedEvent\":\n\n          this.RecognizerStop(SDK, recognizer) // Debug information\n          break;\n      }\n    })\n      .On(() => {\n\n      },\n        (error) => {\n          console.error(error);\n        });\n  }\n  RecognizerStop(SDK, recognizer) {\n    // recognizer.AudioSource.Detach(audioNodeId) can be also used here. (audioNodeId is part of ListeningStartedEvent)\n    console.log('RecognizerStop end')\n    recognizer.AudioSource.TurnOff();\n  }\n\n  showText(text, append) {\n    this.textWarpper.style.display = \"block\"\n    if (append) {\n      this.textSpan.innerHTML += text.Text + \" \";\n    } else {\n      this.textSpan.innerHTML = text;\n    }\n\n\n  }\n  sendText(text) {\n    this.textWarpper.style.display = \"none\";\n    console.log('text is ', text)\n    fetch('/Translate/start', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n\n\n      body: JSON.stringify({ 'text': text })\n    }).then((response) => {\n      return response.json();\n    }).then((data) => {\n      console.log(data)\n      this.showTranslateText(data.from, data.to, data.text, text)\n    })\n  }\n  showTranslateText(from, to, translte, text) {\n    var textBlock  = this.appendSentence(from, to, translte, text);\n    console.log(this.translteWrapper)\n    this.translteWrapper.appendChild(textBlock)\n  }\n  appendSentence(from, to, translte, text) {\n\n    var wrapper = `<div class=\"mdc-card\"><h3>${text}</h3><span>${from}</span><span>${to}</span><div class=\"mdc-card__actions\"><didv class=\"mdc-card__action-icons\"><button class=\"material-icons mdc-icon-button mdc-card__action mdc-card__action--icon\" title=\"More options\">headset</button><button class=\"material-icons mdc-icon-button mdc-card__action mdc-card__action--icon\" title=\"Share\">share</button></div></div>`;\n    var mdCard = document.createElement('div');\n    var action = document.createElement('div');\n\n    mdCard.className = \"mdc-card\";\n    action.className = \"dc-card__action-icons\";\n\n    var h3 = document.createElement('h3')\n    h3.innerHTML = translte\n    mdCard.appendChild(h3);\n    return mdCard;\n  }\n\n\n}\n\n\n\n\n\nexport default translater;","// removed by extract-text-webpack-plugin"],"sourceRoot":""}